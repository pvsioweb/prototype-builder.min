/*! For license information please see builder.min.js.LICENSE.txt */
var builder;(()=>{var t={462:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=new(i(385).PrototypeBuilder);t.exports=n},80:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketConnection=e.LoopbackConnection=e.BackboneConnection=e.ConnectionEvents=void 0;const r=i(845);e.ConnectionEvents={DidOpenConnection:"DidOpenConnection",DidCloseConnection:"DidCloseConnection",ConnectionTimedOut:"ConnectionTimedOut",UserAuthenticated:"UserAuthenticated",NoConnection:"NoConnection",DidSendRequest:"DidSendRequest",SendResponse:"SendResponse"};class s extends r.Model{constructor(){super(),this.serverUrl="ws://localhost",this.serverPort=8082,this.connected=!1,this.callbackRegistry={},this.serverPort=this.getServerPort(),this.serverUrl=this.getServerUrl(),this.on(e.ConnectionEvents.SendResponse,(t=>{t&&t.type?this.callbackRegistry&&"function"==typeof this.callbackRegistry[t.type]?this.callbackRegistry[t.type](t.err,t.res):console.warn(`[connection] Warning: unable to trigger callback (callback registry for ${t.type} is null)`):console.warn("[connection] Warning: unable to trigger callback (OnRequest descriptor is null)")}))}isOnCloud(){return window.location.href.includes(".herokuapp.com")||window.location.href.includes("pvsioweb.org")}getServerPort(){return this.isOnCloud()?0:8082}getServerUrl(){const t=this.isOnCloud()?"wss":"ws";return 0===window.location.href.indexOf("file")?`${t}://localhost`:`${t}://${window.location.hostname}`}getServerAddress(){return this.serverPort?this.serverUrl+":"+this.serverPort:this.serverUrl}getUrl(){return this.isOnCloud()?this.getServerAddress().replace("wss://","https://"):this.getServerAddress().replace("ws://","http://")}activate(){return n(this,void 0,void 0,(function*(){return this.connected||(this.connected=!0,this.trigger(e.ConnectionEvents.DidOpenConnection)),!0}))}onRequest(t,e){t&&"function"==typeof e&&(this.callbackRegistry[t]=e)}sendRequest(t,i){return n(this,void 0,void 0,(function*(){if(yield this.activate(),t){const n={type:t,req:i};this.trigger(e.ConnectionEvents.DidSendRequest,n)}return!0}))}close(){this.connected&&(this.connected=!1,this.trigger(e.ConnectionEvents.DidCloseConnection))}}e.BackboneConnection=s,e.LoopbackConnection=class extends s{sendRequest(t,i){const r=Object.create(null,{sendRequest:{get:()=>super.sendRequest}});return n(this,void 0,void 0,(function*(){return r.sendRequest.call(this,t,i),t&&setTimeout((()=>{this.trigger(e.ConnectionEvents.SendResponse,{type:t,res:i})}),50),!0}))}},e.WebSocketConnection=class extends s{constructor(t){super(),this.keepAlive=!1,this.keepAliveInterval=6e3,t=t||{},this.keepAlive=t.keepAlive,this.keepAliveInterval=t.keepAliveInterval||6e3}activate(){const t=Object.create(null,{activate:{get:()=>super.activate}});return n(this,void 0,void 0,(function*(){return new Promise(((e,i)=>{this.ws?e(!0):(this.ws=new WebSocket(this.getServerAddress()),this.ws.onopen=i=>{this.connected=!0,this.keepAlive&&setInterval((()=>{this.sendRequest("keepAlive")}),this.keepAliveInterval),t.activate.call(this),e(!0)},this.ws.onerror=t=>{this.connected=!1,console.error("[websocket-connection] Connection closed unexpectedly :/",t),e(!1)},this.ws.onclose=t=>{this.connected=!1,this.ws=null,console.error("[websocket-connection] Connection closed",t),e(!1)},this.ws.onmessage=t=>{let e=JSON.parse(t.data);e&&(e.err&&(console.warn("[websocket-connection] Warning: server replied with error state",e.err),"EPIPE"!==e.err.code&&console.warn(JSON.stringify(e))),e.type&&this.callbackRegistry[e.type]&&"function"==typeof this.callbackRegistry[e.type]&&this.callbackRegistry[e.type](e.err,e))})}))}))}sendRequest(t,e){return n(this,void 0,void 0,(function*(){return yield this.activate(),this.ws?(()=>{var i;return null===(i=this.ws)||void 0===i||i.send(JSON.stringify(Object.assign({type:t},e))),!0})():(console.error("[websocket-connection] Cannot send: WebSocket is closed :/"),!1)}))}close(){this.ws&&(this.ws.close(),this.ws=null,super.close())}}},845:(t,e,i)=>{var n,r,s;s="object"==typeof self&&self.self===self&&self||"object"==typeof i.g&&i.g.global===i.g&&i.g,n=[i(32),i(530),e],void 0===(r=function(t,e,i){s.Backbone=function(t,e,i,n){var r=t.Backbone,s=Array.prototype.slice;e.VERSION="1.4.0",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o,a=e.Events={},l=/\s+/,c=function(t,e,n,r,s){var o,a=0;if(n&&"object"==typeof n){void 0!==r&&"context"in s&&void 0===s.context&&(s.context=r);for(o=i.keys(n);a<o.length;a++)e=c(t,e,o[a],n[o[a]],s)}else if(n&&l.test(n))for(o=n.split(l);a<o.length;a++)e=t(e,o[a],r,s);else e=t(e,n,r,s);return e};a.on=function(t,e,i){return this._events=c(d,this._events||{},t,e,{context:i,ctx:this,listening:o}),o&&((this._listeners||(this._listeners={}))[o.id]=o,o.interop=!1),this},a.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),a=o=s[r];a||(this._listenId||(this._listenId=i.uniqueId("l")),a=o=s[r]=new v(this,t));var l=u(t,e,n,this);if(o=void 0,l)throw l;return a.interop&&a.on(e,n),this};var d=function(t,e,i,n){if(i){var r=t[e]||(t[e]=[]),s=n.context,o=n.ctx,a=n.listening;a&&a.count++,r.push({callback:i,context:s,ctx:s||o,listening:a})}return t},u=function(t,e,i,n){try{t.on(e,i,n)}catch(t){return t}};a.off=function(t,e,i){return this._events?(this._events=c(h,this._events,t,e,{context:i,listeners:this._listeners}),this):this},a.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var s=t?[t._listenId]:i.keys(r),o=0;o<s.length;o++){var a=r[s[o]];if(!a)break;a.obj.off(e,n,this),a.interop&&a.off(e,n)}return i.isEmpty(r)&&(this._listeningTo=void 0),this};var h=function(t,e,n,r){if(t){var s,o=r.context,a=r.listeners,l=0;if(e||o||n){for(s=e?[e]:i.keys(t);l<s.length;l++){var c=t[e=s[l]];if(!c)break;for(var d=[],u=0;u<c.length;u++){var h=c[u];if(n&&n!==h.callback&&n!==h.callback._callback||o&&o!==h.context)d.push(h);else{var p=h.listening;p&&p.off(e,n)}}d.length?t[e]=d:delete t[e]}return t}for(s=i.keys(a);l<s.length;l++)a[s[l]].cleanup()}};a.once=function(t,e,i){var n=c(p,{},t,e,this.off.bind(this));return"string"==typeof t&&null==i&&(e=void 0),this.on(n,e,i)},a.listenToOnce=function(t,e,i){var n=c(p,{},e,i,this.stopListening.bind(this,t));return this.listenTo(t,n)};var p=function(t,e,n,r){if(n){var s=t[e]=i.once((function(){r(e,s),n.apply(this,arguments)}));s._callback=n}return t};a.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return c(f,this._events,t,void 0,i),this};var f=function(t,e,i,n){if(t){var r=t[e],s=t.all;r&&s&&(s=s.slice()),r&&g(r,n),s&&g(s,[e].concat(n))}return t},g=function(t,e){var i,n=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s,o);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s,o,a);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}},v=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};v.prototype.on=a.on,v.prototype.off=function(t,e){var i;this.interop?(this._events=c(h,this._events,t,e,{context:void 0,listeners:void 0}),i=!this._events):(this.count--,i=0===this.count),i&&this.cleanup()},v.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,i.extend(e,a);var m=e.Model=function(t,e){var n=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var r=i.result(this,"defaults");n=i.defaults(i.extend({},r,n),r),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(m.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var r;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;var s=n.unset,o=n.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=i.clone(this.attributes),this.changed={});var c=this.attributes,d=this.changed,u=this._previousAttributes;for(var h in r)e=r[h],i.isEqual(c[h],e)||a.push(h),i.isEqual(u[h],e)?delete d[h]:d[h]=e,s?delete c[h]:c[h]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!o){a.length&&(this._pending=n);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,c[a[p]],n)}if(l)return this;if(!o)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e,n=this._changing?this._previousAttributes:this.attributes,r={};for(var s in t){var o=t[s];i.isEqual(n[s],o)||(r[s]=o,e=!0)}return!!e&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var r=t.parse?e.parse(i,t):i;if(!e.set(r,t))return!1;n&&n.call(t.context,e,i,t),e.trigger("sync",e,i,t)},L(this,t),this.sync("read",this,t)},save:function(t,e,n){var r;null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e;var s=(n=i.extend({validate:!0,parse:!0},n)).wait;if(r&&!s){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;var o=this,a=n.success,l=this.attributes;n.success=function(t){o.attributes=l;var e=n.parse?o.parse(t,n):t;if(s&&(e=i.extend({},r,e)),e&&!o.set(e,n))return!1;a&&a.call(n.context,o,t,n),o.trigger("sync",o,t,n)},L(this,n),r&&s&&(this.attributes=i.extend({},l,r));var c=this.isNew()?"create":n.patch?"patch":"update";"patch"!==c||n.attrs||(n.attrs=r);var d=this.sync(c,this,n);return this.attributes=l,d},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,r=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){r&&s(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var o=!1;return this.isNew()?i.defer(t.success):(L(this,t),o=this.sync("delete",this,t)),r||s(),o},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||B();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}});var y=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},x=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,r=Array(t.length-i),s=e.length;for(n=0;n<r.length;n++)r[n]=t[n+i];for(n=0;n<s;n++)t[n+i]=e[n];for(n=0;n<r.length;n++)t[n+s+i]=r[n]};i.extend(y.prototype,a,{model:m,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,w))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),n?r[0]:r},set:function(t,e){if(null!=t){(e=i.extend({},b,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var s,o,a=[],l=[],c=[],d=[],u={},h=e.add,p=e.merge,f=e.remove,g=!1,v=this.comparator&&null==r&&!1!==e.sort,m=i.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){s=t[o];var y=this.get(s);if(y){if(p&&s!==y){var w=this._isModel(s)?s.attributes:s;e.parse&&(w=y.parse(w,e)),y.set(w,e),c.push(y),v&&!g&&(g=y.hasChanged(m))}u[y.cid]||(u[y.cid]=!0,a.push(y)),t[o]=y}else h&&(s=t[o]=this._prepareModel(s,e))&&(l.push(s),this._addReference(s,e),u[s.cid]=!0,a.push(s))}if(f){for(o=0;o<this.length;o++)u[(s=this.models[o]).cid]||d.push(s);d.length&&this._removeModels(d,e)}var C=!1,k=!v&&h&&f;if(a.length&&k?(C=this.length!==a.length||i.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,x(this.models,a,0),this.length=this.models.length):l.length&&(v&&(g=!0),x(this.models,l,null==r?this.length:r),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(o=0;o<l.length;o++)null!=r&&(e.index=r+o),(s=l[o]).trigger("add",s,this,e);(g||C)&&this.trigger("sort",this,e),(l.length||d.length||c.length)&&(e.changes={added:l,removed:d,merged:c},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=e.bind(this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=i.extend({parse:!0},t)).success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},L(this,t),this.sync("read",this,t)},create:function(t,e){var n=(e=e?i.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var r=this,s=e.success;return e.success=function(t,e,i){n&&r.add(t,i),s&&s.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},values:function(){return new k(this,$)},keys:function(){return new k(this,S)},entries:function(){return new k(this,E)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?i.clone(e):{}).collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var r=this.get(t[n]);if(r){var s=this.indexOf(r);this.models.splice(s,1),this.length--,delete this._byId[r.cid];var o=this.modelId(r.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=s,r.trigger("remove",r,this,e)),i.push(r),this._removeReference(r,e)}}return i},_isModel:function(t){return t instanceof m},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var r=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);r!==s&&(null!=r&&delete this._byId[r],null!=s&&(this._byId[s]=e))}}this.trigger.apply(this,arguments)}});var C="function"==typeof Symbol&&Symbol.iterator;C&&(y.prototype[C]=y.prototype.values);var k=function(t,e){this._collection=t,this._kind=e,this._index=0},$=1,S=2,E=3;C&&(k.prototype[C]=function(){return this}),k.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===$)t=e;else{var i=this._collection.modelId(e.attributes);t=this._kind===S?i:[i,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var D=e.View=function(t){this.cid=i.uniqueId("view"),this.preinitialize.apply(this,arguments),i.extend(this,i.pick(t,M)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,M=["model","collection","el","id","attributes","className","tagName","events"];i.extend(D.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var r=e.match(T);this.delegate(r[1],r[2],n.bind(this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var A=function(t,e,n,r){i.each(n,(function(i,n){e[n]&&(t.prototype[n]=function(t,e,i,n){switch(e){case 1:return function(){return t[i](this[n])};case 2:return function(e){return t[i](this[n],e)};case 3:return function(e,r){return t[i](this[n],_(e,this),r)};case 4:return function(e,r,s){return t[i](this[n],_(e,this),r,s)};default:return function(){var e=s.call(arguments);return e.unshift(this[n]),t[i].apply(t,e)}}}(e,i,n,r))}))},_=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?H(t):i.isString(t)?function(e){return e.get(t)}:t},H=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}};i.each([[y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[m,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],(function(t){var e=t[0],n=t[1],r=t[2];e.mixin=function(t){var n=i.reduce(i.functions(t),(function(t,e){return t[e]=0,t}),{});A(e,t,n,r)},A(e,i,n,r)})),e.sync=function(t,n,r){var s=N[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=i.result(n,"url")||B()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var l=r.error;r.error=function(t,e,i){r.textStatus=e,r.errorThrown=i,l&&l.call(r.context,t,e,i)};var c=r.xhr=e.ajax(i.extend(o,r));return n.trigger("request",n,c,r),c};var N={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var O=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},F=/\((.*?)\)/g,j=/(\(\?)?:\w+/g,P=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(O.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(t,n,r){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var s=this;return e.history.route(t,(function(i){var o=s._extractParameters(t,i);!1!==s.execute(r,o,n)&&(s.trigger.apply(s,["route:"+n].concat(o)),s.trigger("route",n,o),e.history.trigger("route",s,n,o))})),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(I,"\\$&").replace(F,"(?:$1)?").replace(j,(function(t,e){return e?t:"([^/?]+)"})).replace(P,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,(function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null}))}});var z=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},W=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,V=/#.*$/;z.started=!1,i.extend(z.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(W,"")},start:function(t){if(z.started)throw new Error("Backbone.history has already been started");if(z.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(R,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),z.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!z.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;t=t.replace(V,"");var r=this.decodeFragment(t);if(this.fragment!==r){if(this.fragment=r,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new z;m.extend=y.extend=O.extend=D.extend=z.extend=function(t,e){var n,r=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,e),n.prototype=i.create(r.prototype,t),n.prototype.constructor=n,n.__super__=r.prototype,n};var B=function(){throw new Error('A "url" property or function must be specified')},L=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e}(s,i,t,e)}.apply(e,n))||(t.exports=r)},530:function(t,e){var i;!function(e,i){"use strict";"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var s=[],o=Object.getPrototypeOf,a=s.slice,l=s.flat?function(t){return s.flat.call(t)}:function(t){return s.concat.apply([],t)},c=s.push,d=s.indexOf,u={},h=u.toString,p=u.hasOwnProperty,f=p.toString,g=f.call(Object),v={},m=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function(t){return null!=t&&t===t.window},b=n.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,i){var n,r,s=(i=i||b).createElement("script");if(s.text=t,e)for(n in w)(r=e[n]||e.getAttribute&&e.getAttribute(n))&&s.setAttribute(n,r);i.head.appendChild(s).parentNode.removeChild(s)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?u[h.call(t)]||"object":typeof t}var k="3.5.1",$=function(t,e){return new $.fn.init(t,e)};function S(t){var e=!!t&&"length"in t&&t.length,i=C(t);return!m(t)&&!y(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}$.fn=$.prototype={jquery:k,constructor:$,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=$.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return $.each(this,t)},map:function(t){return this.pushStack($.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack($.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack($.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:s.sort,splice:s.splice},$.extend=$.fn.extend=function(){var t,e,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||m(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&o!==n&&(c&&n&&($.isPlainObject(n)||(r=Array.isArray(n)))?(i=o[e],s=r&&!Array.isArray(i)?[]:r||$.isPlainObject(i)?i:{},r=!1,o[e]=$.extend(c,s,n)):void 0!==n&&(o[e]=n));return o},$.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==h.call(t)||(e=o(t))&&("function"!=typeof(i=p.call(e,"constructor")&&e.constructor)||f.call(i)!==g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){x(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,n=0;if(S(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){var i=e||[];return null!=t&&(S(Object(t))?$.merge(i,"string"==typeof t?[t]:t):c.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:d.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,s=t.length,o=!i;r<s;r++)!e(t[r],r)!==o&&n.push(t[r]);return n},map:function(t,e,i){var n,r,s=0,o=[];if(S(t))for(n=t.length;s<n;s++)null!=(r=e(t[s],s,i))&&o.push(r);else for(s in t)null!=(r=e(t[s],s,i))&&o.push(r);return l(o)},guid:1,support:v}),"function"==typeof Symbol&&($.fn[Symbol.iterator]=s[Symbol.iterator]),$.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){u["[object "+e+"]"]=e.toLowerCase()}));var E=function(t){var e,i,n,r,s,o,a,l,c,d,u,h,p,f,g,v,m,y,b,w="sizzle"+1*new Date,x=t.document,C=0,k=0,$=lt(),S=lt(),E=lt(),D=lt(),T=function(t,e){return t===e&&(u=!0),0},M={}.hasOwnProperty,A=[],_=A.pop,H=A.push,N=A.push,O=A.slice,F=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\[[\\x20\\t\\r\\n\\f]*("+I+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+P+"*\\]",W=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",R=new RegExp(P+"+","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),B=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),L=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),q=new RegExp(P+"|>"),U=new RegExp(W),G=new RegExp("^"+I+"$"),X={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),it=function(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=function(){h()},ot=wt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(A=O.call(x.childNodes),x.childNodes),A[x.childNodes.length].nodeType}catch(t){N={apply:A.length?function(t,e){H.apply(t,O.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function at(t,e,n,r){var s,a,c,d,u,f,m,y=e&&e.ownerDocument,x=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return n;if(!r&&(h(e),e=e||p,g)){if(11!==x&&(u=Z.exec(t)))if(s=u[1]){if(9===x){if(!(c=e.getElementById(s)))return n;if(c.id===s)return n.push(c),n}else if(y&&(c=y.getElementById(s))&&b(e,c)&&c.id===s)return n.push(c),n}else{if(u[2])return N.apply(n,e.getElementsByTagName(t)),n;if((s=u[3])&&i.getElementsByClassName&&e.getElementsByClassName)return N.apply(n,e.getElementsByClassName(s)),n}if(i.qsa&&!D[t+" "]&&(!v||!v.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if(m=t,y=e,1===x&&(q.test(t)||L.test(t))){for((y=tt.test(t)&&mt(e.parentNode)||e)===e&&i.scope||((d=e.getAttribute("id"))?d=d.replace(nt,rt):e.setAttribute("id",d=w)),a=(f=o(t)).length;a--;)f[a]=(d?"#"+d:":scope")+" "+bt(f[a]);m=f.join(",")}try{return N.apply(n,y.querySelectorAll(m)),n}catch(e){D(t,!0)}finally{d===w&&e.removeAttribute("id")}}}return l(t.replace(V,"$1"),e,n,r)}function lt(){var t=[];return function e(i,r){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}}function ct(t){return t[w]=!0,t}function dt(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var i=t.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=e}function ht(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function vt(t){return ct((function(e){return e=+e,ct((function(i,n){for(var r,s=t([],i.length,e),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,i=(t.ownerDocument||t).documentElement;return!K.test(e||i&&i.nodeName||"HTML")},h=at.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:x;return o!=p&&9===o.nodeType&&o.documentElement?(f=(p=o).documentElement,g=!s(p),x!=p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",st,!1):r.attachEvent&&r.attachEvent("onunload",st)),i.scope=dt((function(t){return f.appendChild(t).appendChild(p.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),i.attributes=dt((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=Q.test(p.getElementsByClassName),i.getById=dt((function(t){return f.appendChild(t).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),i.getById?(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i,n,r,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(r=e.getElementsByName(t),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],v=[],(i.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;f.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+j+")"),t.querySelectorAll("[id~="+w+"-]").length||v.push("~="),(e=p.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||v.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]"),t.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),dt((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")}))),(i.matchesSelector=Q.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&dt((function(t){i.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",W)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=Q.test(f.compareDocumentPosition),b=e||Q.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t==p||t.ownerDocument==x&&b(x,t)?-1:e==p||e.ownerDocument==x&&b(x,e)?1:d?F(d,t)-F(d,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,n=0,r=t.parentNode,s=e.parentNode,o=[t],a=[e];if(!r||!s)return t==p?-1:e==p?1:r?-1:s?1:d?F(d,t)-F(d,e):0;if(r===s)return ht(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;o[n]===a[n];)n++;return n?ht(o[n],a[n]):o[n]==x?-1:a[n]==x?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(h(t),i.matchesSelector&&g&&!D[e+" "]&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var n=y.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){D(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&h(t),b(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&h(t);var r=n.attrHandle[e.toLowerCase()],s=r&&M.call(n.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==s?s:i.attributes||!g?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+"").replace(nt,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],r=0,s=0;if(u=!i.detectDuplicates,d=!i.sortStable&&t.slice(0),t.sort(T),u){for(;e=t[s++];)e===t[s]&&(r=n.push(s));for(;r--;)t.splice(n[r],1)}return d=null,t},r=at.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(n=at.selectors={cacheLength:50,createPseudo:ct,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&U.test(i)&&(e=o(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+P+"|$)"))&&$(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var r=at.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r.replace(R," ")+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,d,u,h,p,f,g=s!==o?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(v){if(s){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?v.firstChild:v.lastChild],o&&y){for(b=(p=(c=(d=(u=(h=v)[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[t]||[])[0]===C&&c[1])&&c[2],h=p&&v.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===e){d[t]=[C,p,b];break}}else if(y&&(b=p=(c=(d=(u=(h=e)[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[t]||[])[0]===C&&c[1]),!1===b)for(;(h=++p&&h&&h[g]||(b=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++b||(y&&((d=(u=h[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[t]=[C,b]),h!==e)););return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[w]?r(e):r.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,i){for(var n,s=r(t,e),o=s.length;o--;)t[n=F(t,s[o])]=!(i[n]=s[o])})):function(t){return r(t,0,i)}):r}},pseudos:{not:ct((function(t){var e=[],i=[],n=a(t.replace(V,"$1"));return n[w]?ct((function(t,e,i,r){for(var s,o=n(t,null,r,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))})):function(t,r,s){return e[0]=t,n(e,null,s,i),e[0]=null,!i.pop()}})),has:ct((function(t){return function(e){return at(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,it),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:ct((function(t){return G.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:vt((function(){return[0]})),last:vt((function(t,e){return[e-1]})),eq:vt((function(t,e,i){return[i<0?i+e:i]})),even:vt((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:vt((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:vt((function(t,e,i){for(var n=i<0?i+e:i>e?e:i;--n>=0;)t.push(n);return t})),gt:vt((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ft(e);function yt(){}function bt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function wt(t,e,i){var n=e.dir,r=e.next,s=r||n,o=i&&"parentNode"===s,a=k++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r);return!1}:function(e,i,l){var c,d,u,h=[C,a];if(l){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(d=(u=e[w]||(e[w]={}))[e.uniqueID]||(u[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=d[s])&&c[0]===C&&c[1]===a)return h[2]=c[2];if(d[s]=h,h[2]=t(e,i,l))return!0}return!1}}function xt(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function Ct(t,e,i,n,r){for(var s,o=[],a=0,l=t.length,c=null!=e;a<l;a++)(s=t[a])&&(i&&!i(s,n,r)||(o.push(s),c&&e.push(a)));return o}function kt(t,e,i,n,r,s){return n&&!n[w]&&(n=kt(n)),r&&!r[w]&&(r=kt(r,s)),ct((function(s,o,a,l){var c,d,u,h=[],p=[],f=o.length,g=s||function(t,e,i){for(var n=0,r=e.length;n<r;n++)at(t,e[n],i);return i}(e||"*",a.nodeType?[a]:a,[]),v=!t||!s&&e?g:Ct(g,h,t,a,l),m=i?r||(s?t:f||n)?[]:o:v;if(i&&i(v,m,a,l),n)for(c=Ct(m,p),n(c,[],a,l),d=c.length;d--;)(u=c[d])&&(m[p[d]]=!(v[p[d]]=u));if(s){if(r||t){if(r){for(c=[],d=m.length;d--;)(u=m[d])&&c.push(v[d]=u);r(null,m=[],c,l)}for(d=m.length;d--;)(u=m[d])&&(c=r?F(s,u):h[d])>-1&&(s[c]=!(o[c]=u))}}else m=Ct(m===o?m.splice(f,m.length):m),r?r(null,o,m,l):N.apply(o,m)}))}function $t(t){for(var e,i,r,s=t.length,o=n.relative[t[0].type],a=o||n.relative[" "],l=o?1:0,d=wt((function(t){return t===e}),a,!0),u=wt((function(t){return F(e,t)>-1}),a,!0),h=[function(t,i,n){var r=!o&&(n||i!==c)||((e=i).nodeType?d(t,i,n):u(t,i,n));return e=null,r}];l<s;l++)if(i=n.relative[t[l].type])h=[wt(xt(h),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[w]){for(r=++l;r<s&&!n.relative[t[r].type];r++);return kt(l>1&&xt(h),l>1&&bt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(V,"$1"),i,l<r&&$t(t.slice(l,r)),r<s&&$t(t=t.slice(r)),r<s&&bt(t))}h.push(i)}return xt(h)}return yt.prototype=n.filters=n.pseudos,n.setFilters=new yt,o=at.tokenize=function(t,e){var i,r,s,o,a,l,c,d=S[t+" "];if(d)return e?0:d.slice(0);for(a=t,l=[],c=n.preFilter;a;){for(o in i&&!(r=B.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),i=!1,(r=L.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(V," ")}),a=a.slice(i.length)),n.filter)!(r=X[o].exec(a))||c[o]&&!(r=c[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return e?a.length:a?at.error(t):S(t,l).slice(0)},a=at.compile=function(t,e){var i,r=[],s=[],a=E[t+" "];if(!a){for(e||(e=o(t)),i=e.length;i--;)(a=$t(e[i]))[w]?r.push(a):s.push(a);(a=E(t,function(t,e){var i=e.length>0,r=t.length>0,s=function(s,o,a,l,d){var u,f,v,m=0,y="0",b=s&&[],w=[],x=c,k=s||r&&n.find.TAG("*",d),$=C+=null==x?1:Math.random()||.1,S=k.length;for(d&&(c=o==p||o||d);y!==S&&null!=(u=k[y]);y++){if(r&&u){for(f=0,o||u.ownerDocument==p||(h(u),a=!g);v=t[f++];)if(v(u,o||p,a)){l.push(u);break}d&&(C=$)}i&&((u=!v&&u)&&m--,s&&b.push(u))}if(m+=y,i&&y!==m){for(f=0;v=e[f++];)v(b,w,o,a);if(s){if(m>0)for(;y--;)b[y]||w[y]||(w[y]=_.call(l));w=Ct(w)}N.apply(l,w),d&&!s&&w.length>0&&m+e.length>1&&at.uniqueSort(l)}return d&&(C=$,c=x),b};return i?ct(s):s}(s,r))).selector=t}return a},l=at.select=function(t,e,i,r){var s,l,c,d,u,h="function"==typeof t&&t,p=!r&&o(t=h.selector||t);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&g&&n.relative[l[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(et,it),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(s=X.needsContext.test(t)?0:l.length;s--&&(c=l[s],!n.relative[d=c.type]);)if((u=n.find[d])&&(r=u(c.matches[0].replace(et,it),tt.test(l[0].type)&&mt(e.parentNode)||e))){if(l.splice(s,1),!(t=r.length&&bt(l)))return N.apply(i,r),i;break}}return(h||a(t,p))(r,e,!g,i,!e||tt.test(t)&&mt(e.parentNode)||e),i},i.sortStable=w.split("").sort(T).join("")===w,i.detectDuplicates=!!u,h(),i.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),dt((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ut("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&dt((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ut("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute("disabled")}))||ut(j,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),at}(n);$.find=E,$.expr=E.selectors,$.expr[":"]=$.expr.pseudos,$.uniqueSort=$.unique=E.uniqueSort,$.text=E.getText,$.isXMLDoc=E.isXML,$.contains=E.contains,$.escapeSelector=E.escape;var D=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&$(t).is(i))break;n.push(t)}return n},T=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},M=$.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var _=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function H(t,e,i){return m(e)?$.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?$.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?$.grep(t,(function(t){return d.call(e,t)>-1!==i})):$.filter(e,t,i)}$.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?$.find.matchesSelector(n,t)?[n]:[]:$.find.matches(t,$.grep(e,(function(t){return 1===t.nodeType})))},$.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack($(t).filter((function(){for(e=0;e<n;e++)if($.contains(r[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)$.find(t,r[e],i);return n>1?$.uniqueSort(i):i},filter:function(t){return this.pushStack(H(this,t||[],!1))},not:function(t){return this.pushStack(H(this,t||[],!0))},is:function(t){return!!H(this,"string"==typeof t&&M.test(t)?$(t):t||[],!1).length}});var N,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;($.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||N,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:O.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof $?e[0]:e,$.merge(this,$.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),_.test(n[1])&&$.isPlainObject(e))for(n in e)m(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=b.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==i.ready?i.ready(t):t($):$.makeArray(t,this)}).prototype=$.fn,N=$(b);var F=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function P(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}$.fn.extend({has:function(t){var e=$(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if($.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,r=this.length,s=[],o="string"!=typeof t&&$(t);if(!M.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&$.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?$.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?d.call($(t),this[0]):d.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack($.uniqueSort($.merge(this.get(),$(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),$.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return D(t,"parentNode")},parentsUntil:function(t,e,i){return D(t,"parentNode",i)},next:function(t){return P(t,"nextSibling")},prev:function(t){return P(t,"previousSibling")},nextAll:function(t){return D(t,"nextSibling")},prevAll:function(t){return D(t,"previousSibling")},nextUntil:function(t,e,i){return D(t,"nextSibling",i)},prevUntil:function(t,e,i){return D(t,"previousSibling",i)},siblings:function(t){return T((t.parentNode||{}).firstChild,t)},children:function(t){return T(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(A(t,"template")&&(t=t.content||t),$.merge([],t.childNodes))}},(function(t,e){$.fn[t]=function(i,n){var r=$.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=$.filter(n,r)),this.length>1&&(j[t]||$.uniqueSort(r),F.test(t)&&r.reverse()),this.pushStack(r)}}));var I=/[^\x20\t\r\n\f]+/g;function z(t){return t}function W(t){throw t}function R(t,e,i,n){var r;try{t&&m(r=t.promise)?r.call(t).done(e).fail(i):t&&m(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}$.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return $.each(t.match(I)||[],(function(t,i){e[i]=!0})),e}(t):$.extend({},t);var e,i,n,r,s=[],o=[],a=-1,l=function(){for(r=r||t.once,n=e=!0;o.length;a=-1)for(i=o.shift();++a<s.length;)!1===s[a].apply(i[0],i[1])&&t.stopOnFalse&&(a=s.length,i=!1);t.memory||(i=!1),e=!1,r&&(s=i?[]:"")},c={add:function(){return s&&(i&&!e&&(a=s.length-1,o.push(i)),function e(i){$.each(i,(function(i,n){m(n)?t.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==C(n)&&e(n)}))}(arguments),i&&!e&&l()),this},remove:function(){return $.each(arguments,(function(t,e){for(var i;(i=$.inArray(e,s,i))>-1;)s.splice(i,1),i<=a&&a--})),this},has:function(t){return t?$.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=o=[],i||e||(s=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=[t,(i=i||[]).slice?i.slice():i],o.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},$.extend({Deferred:function(t){var e=[["notify","progress",$.Callbacks("memory"),$.Callbacks("memory"),2],["resolve","done",$.Callbacks("once memory"),$.Callbacks("once memory"),0,"resolved"],["reject","fail",$.Callbacks("once memory"),$.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return $.Deferred((function(i){$.each(e,(function(e,n){var r=m(t[n[4]])&&t[n[4]];s[n[1]]((function(){var t=r&&r.apply(this,arguments);t&&m(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,r){var s=0;function o(t,e,i,r){return function(){var a=this,l=arguments,c=function(){var n,c;if(!(t<s)){if((n=i.apply(a,l))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,m(c)?r?c.call(n,o(s,e,z,r),o(s,e,W,r)):(s++,c.call(n,o(s,e,z,r),o(s,e,W,r),o(s,e,z,e.notifyWith))):(i!==z&&(a=void 0,l=[n]),(r||e.resolveWith)(a,l))}},d=r?c:function(){try{c()}catch(n){$.Deferred.exceptionHook&&$.Deferred.exceptionHook(n,d.stackTrace),t+1>=s&&(i!==W&&(a=void 0,l=[n]),e.rejectWith(a,l))}};t?d():($.Deferred.getStackHook&&(d.stackTrace=$.Deferred.getStackHook()),n.setTimeout(d))}}return $.Deferred((function(n){e[0][3].add(o(0,n,m(r)?r:z,n.notifyWith)),e[1][3].add(o(0,n,m(t)?t:z)),e[2][3].add(o(0,n,m(i)?i:W))})).promise()},promise:function(t){return null!=t?$.extend(t,r):r}},s={};return $.each(e,(function(t,n){var o=n[2],a=n[5];r[n[1]]=o.add,a&&o.add((function(){i=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(n[3].fire),s[n[0]]=function(){return s[n[0]+"With"](this===s?void 0:this,arguments),this},s[n[0]+"With"]=o.fireWith})),r.promise(s),t&&t.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),r=a.call(arguments),s=$.Deferred(),o=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?a.call(arguments):i,--e||s.resolveWith(n,r)}};if(e<=1&&(R(t,s.done(o(i)).resolve,s.reject,!e),"pending"===s.state()||m(r[i]&&r[i].then)))return s.then();for(;i--;)R(r[i],o(i),s.reject);return s.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;$.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&V.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},$.readyException=function(t){n.setTimeout((function(){throw t}))};var B=$.Deferred();function L(){b.removeEventListener("DOMContentLoaded",L),n.removeEventListener("load",L),$.ready()}$.fn.ready=function(t){return B.then(t).catch((function(t){$.readyException(t)})),this},$.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--$.readyWait:$.isReady)||($.isReady=!0,!0!==t&&--$.readyWait>0||B.resolveWith(b,[$]))}}),$.ready.then=B.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout($.ready):(b.addEventListener("DOMContentLoaded",L),n.addEventListener("load",L));var q=function(t,e,i,n,r,s,o){var a=0,l=t.length,c=null==i;if("object"===C(i))for(a in r=!0,i)q(t,e,a,i[a],!0,s,o);else if(void 0!==n&&(r=!0,m(n)||(o=!0),c&&(o?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call($(t),i)})),e))for(;a<l;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return r?t:c?e.call(t):l?e(t[0],i):s},U=/^-ms-/,G=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function K(t){return t.replace(U,"ms-").replace(G,X)}var J=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Y(){this.expando=$.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},J(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[K(e)]=i;else for(n in e)r[K(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(K):(e=K(e))in n?[e]:e.match(I)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||$.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!$.isEmptyObject(e)}};var Q=new Y,Z=new Y,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function it(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(i)}catch(t){}Z.set(t,e,i)}else i=void 0;return i}$.extend({hasData:function(t){return Z.hasData(t)||Q.hasData(t)},data:function(t,e,i){return Z.access(t,e,i)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,i){return Q.access(t,e,i)},_removeData:function(t,e){Q.remove(t,e)}}),$.fn.extend({data:function(t,e){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=Z.get(s),1===s.nodeType&&!Q.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=K(n.slice(5)),it(s,n,r[n]));Q.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){Z.set(this,t)})):q(this,(function(e){var i;if(s&&void 0===e)return void 0!==(i=Z.get(s,t))||void 0!==(i=it(s,t))?i:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),$.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Q.get(t,e),i&&(!n||Array.isArray(i)?n=Q.access(t,e,$.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=$.queue(t,e),n=i.length,r=i.shift(),s=$._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,(function(){$.dequeue(t,e)}),s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Q.get(t,i)||Q.access(t,i,{empty:$.Callbacks("once memory").add((function(){Q.remove(t,[e+"queue",i])}))})}}),$.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?$.queue(this[0],t):void 0===e?this:this.each((function(){var i=$.queue(this,t,e);$._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&$.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){$.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=$.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=Q.get(s[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),st=["Top","Right","Bottom","Left"],ot=b.documentElement,at=function(t){return $.contains(t.ownerDocument,t)},lt={composed:!0};ot.getRootNode&&(at=function(t){return $.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ct=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===$.css(t,"display")};function dt(t,e,i,n){var r,s,o=20,a=n?function(){return n.cur()}:function(){return $.css(t,e,"")},l=a(),c=i&&i[3]||($.cssNumber[e]?"":"px"),d=t.nodeType&&($.cssNumber[e]||"px"!==c&&+l)&&rt.exec($.css(t,e));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;o--;)$.style(t,e,d+c),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),d/=s;d*=2,$.style(t,e,d+c),i=i||[]}return i&&(d=+d||+l||0,r=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=r)),r}var ut={};function ht(t){var e,i=t.ownerDocument,n=t.nodeName,r=ut[n];return r||(e=i.body.appendChild(i.createElement(n)),r=$.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ut[n]=r,r)}function pt(t,e){for(var i,n,r=[],s=0,o=t.length;s<o;s++)(n=t[s]).style&&(i=n.style.display,e?("none"===i&&(r[s]=Q.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&ct(n)&&(r[s]=ht(n))):"none"!==i&&(r[s]="none",Q.set(n,"display",i)));for(s=0;s<o;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}$.fn.extend({show:function(){return pt(this,!0)},hide:function(){return pt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ct(this)?$(this).show():$(this).hide()}))}});var ft,gt,vt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i;ft=b.createDocumentFragment().appendChild(b.createElement("div")),(gt=b.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),ft.appendChild(gt),v.checkClone=ft.cloneNode(!0).cloneNode(!0).lastChild.checked,ft.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ft.cloneNode(!0).lastChild.defaultValue,ft.innerHTML="<option></option>",v.option=!!ft.lastChild;var bt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function wt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?$.merge([t],i):i}function xt(t,e){for(var i=0,n=t.length;i<n;i++)Q.set(t[i],"globalEval",!e||Q.get(e[i],"globalEval"))}bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead,bt.th=bt.td,v.option||(bt.optgroup=bt.option=[1,"<select multiple='multiple'>","</select>"]);var Ct=/<|&#?\w+;/;function kt(t,e,i,n,r){for(var s,o,a,l,c,d,u=e.createDocumentFragment(),h=[],p=0,f=t.length;p<f;p++)if((s=t[p])||0===s)if("object"===C(s))$.merge(h,s.nodeType?[s]:s);else if(Ct.test(s)){for(o=o||u.appendChild(e.createElement("div")),a=(mt.exec(s)||["",""])[1].toLowerCase(),l=bt[a]||bt._default,o.innerHTML=l[1]+$.htmlPrefilter(s)+l[2],d=l[0];d--;)o=o.lastChild;$.merge(h,o.childNodes),(o=u.firstChild).textContent=""}else h.push(e.createTextNode(s));for(u.textContent="",p=0;s=h[p++];)if(n&&$.inArray(s,n)>-1)r&&r.push(s);else if(c=at(s),o=wt(u.appendChild(s),"script"),c&&xt(o),i)for(d=0;s=o[d++];)yt.test(s.type||"")&&i.push(s);return u}var $t=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Et=/^([^.]*)(?:\.(.+)|)/;function Dt(){return!0}function Tt(){return!1}function Mt(t,e){return t===function(){try{return b.activeElement}catch(t){}}()==("focus"===e)}function At(t,e,i,n,r,s){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)At(t,a,i,n,e[a],s);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Tt;else if(!r)return t;return 1===s&&(o=r,(r=function(t){return $().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=$.guid++)),t.each((function(){$.event.add(this,e,r,n,i)}))}function _t(t,e,i){i?(Q.set(t,e,!1),$.event.add(t,e,{namespace:!1,handler:function(t){var n,r,s=Q.get(this,e);if(1&t.isTrigger&&this[e]){if(s.length)($.event.special[e]||{}).delegateType&&t.stopPropagation();else if(s=a.call(arguments),Q.set(this,e,s),n=i(this,e),this[e](),s!==(r=Q.get(this,e))||n?Q.set(this,e,!1):r={},s!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else s.length&&(Q.set(this,e,{value:$.event.trigger($.extend(s[0],$.Event.prototype),s.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Q.get(t,e)&&$.event.add(t,e,Dt)}$.event={global:{},add:function(t,e,i,n,r){var s,o,a,l,c,d,u,h,p,f,g,v=Q.get(t);if(J(t))for(i.handler&&(i=(s=i).handler,r=s.selector),r&&$.find.matchesSelector(ot,r),i.guid||(i.guid=$.guid++),(l=v.events)||(l=v.events=Object.create(null)),(o=v.handle)||(o=v.handle=function(e){return void 0!==$&&$.event.triggered!==e.type?$.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(I)||[""]).length;c--;)p=g=(a=Et.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(u=$.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=$.event.special[p]||{},d=$.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&$.expr.match.needsContext.test(r),namespace:f.join(".")},s),(h=l[p])||((h=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,f,o)||t.addEventListener&&t.addEventListener(p,o)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),$.event.global[p]=!0)},remove:function(t,e,i,n,r){var s,o,a,l,c,d,u,h,p,f,g,v=Q.hasData(t)&&Q.get(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(I)||[""]).length;c--;)if(p=g=(a=Et.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(u=$.event.special[p]||{},h=l[p=(n?u.delegateType:u.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;s--;)d=h[s],!r&&g!==d.origType||i&&i.guid!==d.guid||a&&!a.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(h.splice(s,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(t,d));o&&!h.length&&(u.teardown&&!1!==u.teardown.call(t,f,v.handle)||$.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)$.event.remove(t,p+e[c],i,n,!0);$.isEmptyObject(l)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,s,o,a=new Array(arguments.length),l=$.event.fix(t),c=(Q.get(this,"events")||Object.create(null))[l.type]||[],d=$.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(o=$.event.handlers.call(this,l,c),e=0;(r=o[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,void 0!==(n=(($.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(t,e){var i,n,r,s,o,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(s=[],o={},i=0;i<l;i++)void 0===o[r=(n=e[i]).selector+" "]&&(o[r]=n.needsContext?$(r,this).index(c)>-1:$.find(r,this,null,[c]).length),o[r]&&s.push(n);s.length&&a.push({elem:c,handlers:s})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty($.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[$.expando]?t:new $.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return vt.test(e.type)&&e.click&&A(e,"input")&&_t(e,"click",Dt),!1},trigger:function(t){var e=this||t;return vt.test(e.type)&&e.click&&A(e,"input")&&_t(e,"click"),!0},_default:function(t){var e=t.target;return vt.test(e.type)&&e.click&&A(e,"input")&&Q.get(e,"click")||A(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},$.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},$.Event=function(t,e){if(!(this instanceof $.Event))return new $.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Dt:Tt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&$.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[$.expando]=!0},$.Event.prototype={constructor:$.Event,isDefaultPrevented:Tt,isPropagationStopped:Tt,isImmediatePropagationStopped:Tt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Dt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Dt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Dt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},$.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&$t.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},$.event.addProp),$.each({focus:"focusin",blur:"focusout"},(function(t,e){$.event.special[t]={setup:function(){return _t(this,t,Mt),!1},trigger:function(){return _t(this,t),!0},delegateType:e}})),$.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){$.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,s=t.handleObj;return r&&(r===n||$.contains(n,r))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}})),$.fn.extend({on:function(t,e,i,n){return At(this,t,e,i,n)},one:function(t,e,i,n){return At(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,$(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Tt),this.each((function(){$.event.remove(this,t,i,e)}))}});var Ht=/<script|<style|<link/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ft(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&$(t).children("tbody")[0]||t}function jt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Pt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function It(t,e){var i,n,r,s,o,a;if(1===e.nodeType){if(Q.hasData(t)&&(a=Q.get(t).events))for(r in Q.remove(e,"handle events"),a)for(i=0,n=a[r].length;i<n;i++)$.event.add(e,r,a[r][i]);Z.hasData(t)&&(s=Z.access(t),o=$.extend({},s),Z.set(e,o))}}function zt(t,e){var i=e.nodeName.toLowerCase();"input"===i&&vt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Wt(t,e,i,n){e=l(e);var r,s,o,a,c,d,u=0,h=t.length,p=h-1,f=e[0],g=m(f);if(g||h>1&&"string"==typeof f&&!v.checkClone&&Nt.test(f))return t.each((function(r){var s=t.eq(r);g&&(e[0]=f.call(this,r,s.html())),Wt(s,e,i,n)}));if(h&&(s=(r=kt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===r.childNodes.length&&(r=s),s||n)){for(a=(o=$.map(wt(r,"script"),jt)).length;u<h;u++)c=r,u!==p&&(c=$.clone(c,!0,!0),a&&$.merge(o,wt(c,"script"))),i.call(t[u],c,u);if(a)for(d=o[o.length-1].ownerDocument,$.map(o,Pt),u=0;u<a;u++)c=o[u],yt.test(c.type||"")&&!Q.access(c,"globalEval")&&$.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?$._evalUrl&&!c.noModule&&$._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):x(c.textContent.replace(Ot,""),c,d))}return t}function Rt(t,e,i){for(var n,r=e?$.filter(e,t):t,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||$.cleanData(wt(n)),n.parentNode&&(i&&at(n)&&xt(wt(n,"script")),n.parentNode.removeChild(n));return t}$.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,r,s,o,a=t.cloneNode(!0),l=at(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||$.isXMLDoc(t)))for(o=wt(a),n=0,r=(s=wt(t)).length;n<r;n++)zt(s[n],o[n]);if(e)if(i)for(s=s||wt(t),o=o||wt(a),n=0,r=s.length;n<r;n++)It(s[n],o[n]);else It(t,a);return(o=wt(a,"script")).length>0&&xt(o,!l&&wt(t,"script")),a},cleanData:function(t){for(var e,i,n,r=$.event.special,s=0;void 0!==(i=t[s]);s++)if(J(i)){if(e=i[Q.expando]){if(e.events)for(n in e.events)r[n]?$.event.remove(i,n):$.removeEvent(i,n,e.handle);i[Q.expando]=void 0}i[Z.expando]&&(i[Z.expando]=void 0)}}}),$.fn.extend({detach:function(t){return Rt(this,t,!0)},remove:function(t){return Rt(this,t)},text:function(t){return q(this,(function(t){return void 0===t?$.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Wt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ft(this,t).appendChild(t)}))},prepend:function(){return Wt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ft(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Wt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Wt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&($.cleanData(wt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return $.clone(this,t,e)}))},html:function(t){return q(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ht.test(t)&&!bt[(mt.exec(t)||["",""])[1].toLowerCase()]){t=$.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&($.cleanData(wt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Wt(this,arguments,(function(e){var i=this.parentNode;$.inArray(this,t)<0&&($.cleanData(wt(this)),i&&i.replaceChild(e,this))}),t)}}),$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){$.fn[t]=function(t){for(var i,n=[],r=$(t),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),$(r[o])[e](i),c.apply(n,i.get());return this.pushStack(n)}}));var Vt=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),Bt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Lt=function(t,e,i){var n,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in n=i.call(t),e)t.style[r]=s[r];return n},qt=new RegExp(st.join("|"),"i");function Ut(t,e,i){var n,r,s,o,a=t.style;return(i=i||Bt(t))&&(""!==(o=i.getPropertyValue(e)||i[e])||at(t)||(o=$.style(t,e)),!v.pixelBoxStyles()&&Vt.test(o)&&qt.test(e)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function Gt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(c).appendChild(d);var t=n.getComputedStyle(d);i="1%"!==t.top,l=12===e(t.marginLeft),d.style.right="60%",o=36===e(t.right),r=36===e(t.width),d.style.position="absolute",s=12===e(d.offsetWidth/3),ot.removeChild(c),d=null}}function e(t){return Math.round(parseFloat(t))}var i,r,s,o,a,l,c=b.createElement("div"),d=b.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===d.style.backgroundClip,$.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),s},reliableTrDimensions:function(){var t,e,i,r;return null==a&&(t=b.createElement("table"),e=b.createElement("tr"),i=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",i.style.height="9px",ot.appendChild(t).appendChild(e).appendChild(i),r=n.getComputedStyle(e),a=parseInt(r.height)>3,ot.removeChild(t)),a}}))}();var Xt=["Webkit","Moz","ms"],Kt=b.createElement("div").style,Jt={};function Yt(t){return $.cssProps[t]||Jt[t]||(t in Kt?t:Jt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Xt.length;i--;)if((t=Xt[i]+e)in Kt)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ie(t,e,i){var n=rt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function ne(t,e,i,n,r,s){var o="width"===e?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=$.css(t,i+st[o],!0,r)),n?("content"===i&&(l-=$.css(t,"padding"+st[o],!0,r)),"margin"!==i&&(l-=$.css(t,"border"+st[o]+"Width",!0,r))):(l+=$.css(t,"padding"+st[o],!0,r),"padding"!==i?l+=$.css(t,"border"+st[o]+"Width",!0,r):a+=$.css(t,"border"+st[o]+"Width",!0,r));return!n&&s>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-a-.5))||0),l}function re(t,e,i){var n=Bt(t),r=(!v.boxSizingReliable()||i)&&"border-box"===$.css(t,"boxSizing",!1,n),s=r,o=Ut(t,e,n),a="offset"+e[0].toUpperCase()+e.slice(1);if(Vt.test(o)){if(!i)return o;o="auto"}return(!v.boxSizingReliable()&&r||!v.reliableTrDimensions()&&A(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===$.css(t,"display",!1,n))&&t.getClientRects().length&&(r="border-box"===$.css(t,"boxSizing",!1,n),(s=a in t)&&(o=t[a])),(o=parseFloat(o)||0)+ne(t,e,i||(r?"border":"content"),s,n,o)+"px"}function se(t,e,i,n,r){return new se.prototype.init(t,e,i,n,r)}$.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Ut(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=K(e),l=Zt.test(e),c=t.style;if(l||(e=Yt(a)),o=$.cssHooks[e]||$.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:c[e];"string"==(s=typeof i)&&(r=rt.exec(i))&&r[1]&&(i=dt(t,e,r),s="number"),null!=i&&i==i&&("number"!==s||l||(i+=r&&r[3]||($.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var r,s,o,a=K(e);return Zt.test(e)||(e=Yt(a)),(o=$.cssHooks[e]||$.cssHooks[a])&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=Ut(t,e,n)),"normal"===r&&e in ee&&(r=ee[e]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),$.each(["height","width"],(function(t,e){$.cssHooks[e]={get:function(t,i,n){if(i)return!Qt.test($.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?re(t,e,n):Lt(t,te,(function(){return re(t,e,n)}))},set:function(t,i,n){var r,s=Bt(t),o=!v.scrollboxSize()&&"absolute"===s.position,a=(o||n)&&"border-box"===$.css(t,"boxSizing",!1,s),l=n?ne(t,e,n,a,s):0;return a&&o&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-ne(t,e,"border",!1,s)-.5)),l&&(r=rt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=$.css(t,e)),ie(0,i,l)}}})),$.cssHooks.marginLeft=Gt(v.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Ut(t,"marginLeft"))||t.getBoundingClientRect().left-Lt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),$.each({margin:"",padding:"",border:"Width"},(function(t,e){$.cssHooks[t+e]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+st[n]+e]=s[n]||s[n-2]||s[0];return r}},"margin"!==t&&($.cssHooks[t+e].set=ie)})),$.fn.extend({css:function(t,e){return q(this,(function(t,e,i){var n,r,s={},o=0;if(Array.isArray(e)){for(n=Bt(t),r=e.length;o<r;o++)s[e[o]]=$.css(t,e[o],!1,n);return s}return void 0!==i?$.style(t,e,i):$.css(t,e)}),t,e,arguments.length>1)}}),$.Tween=se,se.prototype={constructor:se,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||$.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||($.cssNumber[i]?"":"px")},cur:function(){var t=se.propHooks[this.prop];return t&&t.get?t.get(this):se.propHooks._default.get(this)},run:function(t){var e,i=se.propHooks[this.prop];return this.options.duration?this.pos=e=$.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):se.propHooks._default.set(this),this}},se.prototype.init.prototype=se.prototype,se.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=$.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){$.fx.step[t.prop]?$.fx.step[t.prop](t):1!==t.elem.nodeType||!$.cssHooks[t.prop]&&null==t.elem.style[Yt(t.prop)]?t.elem[t.prop]=t.now:$.style(t.elem,t.prop,t.now+t.unit)}}},se.propHooks.scrollTop=se.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},$.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},$.fx=se.prototype.init,$.fx.step={};var oe,ae,le=/^(?:toggle|show|hide)$/,ce=/queueHooks$/;function de(){ae&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(de):n.setTimeout(de,$.fx.interval),$.fx.tick())}function ue(){return n.setTimeout((function(){oe=void 0})),oe=Date.now()}function he(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=st[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function pe(t,e,i){for(var n,r=(fe.tweeners[e]||[]).concat(fe.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,e,t))return n}function fe(t,e,i){var n,r,s=0,o=fe.prefilters.length,a=$.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=oe||ue(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),s=0,o=c.tweens.length;s<o;s++)c.tweens[s].run(n);return a.notifyWith(t,[c,n,i]),n<1&&o?i:(o||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:$.extend({},e),opts:$.extend(!0,{specialEasing:{},easing:$.easing._default},i),originalProperties:e,originalOptions:i,startTime:oe||ue(),duration:i.duration,tweens:[],createTween:function(e,i){var n=$.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),d=c.props;for(function(t,e){var i,n,r,s,o;for(i in t)if(r=e[n=K(i)],s=t[i],Array.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(o=$.cssHooks[n])&&"expand"in o)for(i in s=o.expand(s),delete t[n],s)i in t||(t[i]=s[i],e[i]=r);else e[n]=r}(d,c.opts.specialEasing);s<o;s++)if(n=fe.prefilters[s].call(c,t,d,c.opts))return m(n.stop)&&($._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return $.map(d,pe,c),m(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),$.fx.timer($.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}$.Animation=$.extend(fe,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return dt(i.elem,t,rt.exec(e),i),i}]},tweener:function(t,e){m(t)?(e=t,t=["*"]):t=t.match(I);for(var i,n=0,r=t.length;n<r;n++)i=t[n],fe.tweeners[i]=fe.tweeners[i]||[],fe.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,r,s,o,a,l,c,d,u="width"in e||"height"in e,h=this,p={},f=t.style,g=t.nodeType&&ct(t),v=Q.get(t,"fxshow");for(n in i.queue||(null==(o=$._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,h.always((function(){h.always((function(){o.unqueued--,$.queue(t,"fx").length||o.empty.fire()}))}))),e)if(r=e[n],le.test(r)){if(delete e[n],s=s||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[n])continue;g=!0}p[n]=v&&v[n]||$.style(t,n)}if((l=!$.isEmptyObject(e))||!$.isEmptyObject(p))for(n in u&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=v&&v.display)&&(c=Q.get(t,"display")),"none"===(d=$.css(t,"display"))&&(c?d=c:(pt([t],!0),c=t.style.display||c,d=$.css(t,"display"),pt([t]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===$.css(t,"float")&&(l||(h.done((function(){f.display=c})),null==c&&(d=f.display,c="none"===d?"":d)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}))),l=!1,p)l||(v?"hidden"in v&&(g=v.hidden):v=Q.access(t,"fxshow",{display:c}),s&&(v.hidden=!g),g&&pt([t],!0),h.done((function(){for(n in g||pt([t]),Q.remove(t,"fxshow"),p)$.style(t,n,p[n])}))),l=pe(g?v[n]:0,n,h),n in v||(v[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?fe.prefilters.unshift(t):fe.prefilters.push(t)}}),$.speed=function(t,e,i){var n=t&&"object"==typeof t?$.extend({},t):{complete:i||!i&&e||m(t)&&t,duration:t,easing:i&&e||e&&!m(e)&&e};return $.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in $.fx.speeds?n.duration=$.fx.speeds[n.duration]:n.duration=$.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m(n.old)&&n.old.call(this),n.queue&&$.dequeue(this,n.queue)},n},$.fn.extend({fadeTo:function(t,e,i,n){return this.filter(ct).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=$.isEmptyObject(t),s=$.speed(e,i,n),o=function(){var e=fe(this,$.extend({},t),s);(r||Q.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",s=$.timers,o=Q.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&ce.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(i),e=!1,s.splice(r,1));!e&&i||$.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=Q.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],s=$.timers,o=n?n.length:0;for(i.finish=!0,$.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),$.each(["toggle","show","hide"],(function(t,e){var i=$.fn[e];$.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(he(e,!0),t,n,r)}})),$.each({slideDown:he("show"),slideUp:he("hide"),slideToggle:he("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){$.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),$.timers=[],$.fx.tick=function(){var t,e=0,i=$.timers;for(oe=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||$.fx.stop(),oe=void 0},$.fx.timer=function(t){$.timers.push(t),$.fx.start()},$.fx.interval=13,$.fx.start=function(){ae||(ae=!0,de())},$.fx.stop=function(){ae=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fn.delay=function(t,e){return t=$.fx&&$.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}}))},function(){var t=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=b.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var ge,ve=$.expr.attrHandle;$.fn.extend({attr:function(t,e){return q(this,$.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){$.removeAttr(this,t)}))}}),$.extend({attr:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?$.prop(t,e,i):(1===s&&$.isXMLDoc(t)||(r=$.attrHooks[e.toLowerCase()]||($.expr.match.bool.test(e)?ge:void 0)),void 0!==i?null===i?void $.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=$.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&A(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(I);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),ge={set:function(t,e,i){return!1===e?$.removeAttr(t,i):t.setAttribute(i,i),i}},$.each($.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=ve[e]||$.find.attr;ve[e]=function(t,e,n){var r,s,o=e.toLowerCase();return n||(s=ve[o],ve[o]=r,r=null!=i(t,e,n)?o:null,ve[o]=s),r}}));var me=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;function be(t){return(t.match(I)||[]).join(" ")}function we(t){return t.getAttribute&&t.getAttribute("class")||""}function xe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(I)||[]}$.fn.extend({prop:function(t,e){return q(this,$.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[$.propFix[t]||t]}))}}),$.extend({prop:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&$.isXMLDoc(t)||(e=$.propFix[e]||e,r=$.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=$.find.attr(t,"tabindex");return e?parseInt(e,10):me.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||($.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),$.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){$.propFix[this.toLowerCase()]=this})),$.fn.extend({addClass:function(t){var e,i,n,r,s,o,a,l=0;if(m(t))return this.each((function(e){$(this).addClass(t.call(this,e,we(this)))}));if((e=xe(t)).length)for(;i=this[l++];)if(r=we(i),n=1===i.nodeType&&" "+be(r)+" "){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r!==(a=be(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,s,o,a,l=0;if(m(t))return this.each((function(e){$(this).removeClass(t.call(this,e,we(this)))}));if(!arguments.length)return this.attr("class","");if((e=xe(t)).length)for(;i=this[l++];)if(r=we(i),n=1===i.nodeType&&" "+be(r)+" "){for(o=0;s=e[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");r!==(a=be(n))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(i){$(this).toggleClass(t.call(this,i,we(this),e),e)})):this.each((function(){var e,r,s,o;if(n)for(r=0,s=$(this),o=xe(t);e=o[r++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&"boolean"!==i||((e=we(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+be(we(i))+" ").indexOf(e)>-1)return!0;return!1}});var Ce=/\r/g;$.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=m(t),this.each((function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,$(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=$.map(r,(function(t){return null==t?"":t+""}))),(e=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=$.valHooks[r.type]||$.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(Ce,""):null==i?"":i:void 0}}),$.extend({valHooks:{option:{get:function(t){var e=$.find.attr(t,"value");return null!=e?e:be($.text(t))}},select:{get:function(t){var e,i,n,r=t.options,s=t.selectedIndex,o="select-one"===t.type,a=o?null:[],l=o?s+1:r.length;for(n=s<0?l:o?s:0;n<l;n++)if(((i=r[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!A(i.parentNode,"optgroup"))){if(e=$(i).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var i,n,r=t.options,s=$.makeArray(e),o=r.length;o--;)((n=r[o]).selected=$.inArray($.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),$.each(["radio","checkbox"],(function(){$.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=$.inArray($(t).val(),e)>-1}},v.checkOn||($.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),v.focusin="onfocusin"in n;var ke=/^(?:focusinfocus|focusoutblur)$/,$e=function(t){t.stopPropagation()};$.extend($.event,{trigger:function(t,e,i,r){var s,o,a,l,c,d,u,h,f=[i||b],g=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(o=h=a=i=i||b,3!==i.nodeType&&8!==i.nodeType&&!ke.test(g+$.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[$.expando]?t:new $.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:$.makeArray(e,[t]),u=$.event.special[g]||{},r||!u.trigger||!1!==u.trigger.apply(i,e))){if(!r&&!u.noBubble&&!y(i)){for(l=u.delegateType||g,ke.test(l+g)||(o=o.parentNode);o;o=o.parentNode)f.push(o),a=o;a===(i.ownerDocument||b)&&f.push(a.defaultView||a.parentWindow||n)}for(s=0;(o=f[s++])&&!t.isPropagationStopped();)h=o,t.type=s>1?l:u.bindType||g,(d=(Q.get(o,"events")||Object.create(null))[t.type]&&Q.get(o,"handle"))&&d.apply(o,e),(d=c&&o[c])&&d.apply&&J(o)&&(t.result=d.apply(o,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),e)||!J(i)||c&&m(i[g])&&!y(i)&&((a=i[c])&&(i[c]=null),$.event.triggered=g,t.isPropagationStopped()&&h.addEventListener(g,$e),i[g](),t.isPropagationStopped()&&h.removeEventListener(g,$e),$.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(t,e,i){var n=$.extend(new $.Event,i,{type:t,isSimulated:!0});$.event.trigger(n,null,e)}}),$.fn.extend({trigger:function(t,e){return this.each((function(){$.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return $.event.trigger(t,e,i,!0)}}),v.focusin||$.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){$.event.simulate(e,t.target,$.event.fix(t))};$.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,r=Q.access(n,e);r||n.addEventListener(t,i,!0),Q.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,r=Q.access(n,e)-1;r?Q.access(n,e,r):(n.removeEventListener(t,i,!0),Q.remove(n,e))}}}));var Se=n.location,Ee={guid:Date.now()},De=/\?/;$.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||$.error("Invalid XML: "+t),e};var Te=/\[\]$/,Me=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,_e=/^(?:input|select|textarea|keygen)/i;function He(t,e,i,n){var r;if(Array.isArray(e))$.each(e,(function(e,r){i||Te.test(t)?n(t,r):He(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)}));else if(i||"object"!==C(e))n(t,e);else for(r in e)He(t+"["+r+"]",e[r],i,n)}$.param=function(t,e){var i,n=[],r=function(t,e){var i=m(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!$.isPlainObject(t))$.each(t,(function(){r(this.name,this.value)}));else for(i in t)He(i,t[i],e,r);return n.join("&")},$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=$.prop(this,"elements");return t?$.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!$(this).is(":disabled")&&_e.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!vt.test(t))})).map((function(t,e){var i=$(this).val();return null==i?null:Array.isArray(i)?$.map(i,(function(t){return{name:e.name,value:t.replace(Me,"\r\n")}})):{name:e.name,value:i.replace(Me,"\r\n")}})).get()}});var Ne=/%20/g,Oe=/#.*$/,Fe=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Ie=/^\/\//,ze={},We={},Re="*/".concat("*"),Ve=b.createElement("a");function Be(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,s=e.toLowerCase().match(I)||[];if(m(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Le(t,e,i,n){var r={},s=t===We;function o(a){var l;return r[a]=!0,$.each(t[a]||[],(function(t,a){var c=a(e,i,n);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)})),l}return o(e.dataTypes[0])||!r["*"]&&o("*")}function qe(t,e){var i,n,r=$.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&$.extend(!0,t,n),t}Ve.href=Se.href,$.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Re,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":$.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?qe(qe(t,$.ajaxSettings),e):qe($.ajaxSettings,t)},ajaxPrefilter:Be(ze),ajaxTransport:Be(We),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,s,o,a,l,c,d,u,h,p=$.ajaxSetup({},e),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?$(f):$.event,v=$.Deferred(),m=$.Callbacks("once memory"),y=p.statusCode||{},w={},x={},C="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!o)for(o={};e=je.exec(s);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||C;return i&&i.abort(e),S(0,e),this}};if(v.promise(k),p.url=((t||p.url||Se.href)+"").replace(Ie,Se.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(I)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ve.protocol+"//"+Ve.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=$.param(p.data,p.traditional)),Le(ze,p,e,k),c)return k;for(u in(d=$.event&&p.global)&&0==$.active++&&$.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Pe.test(p.type),r=p.url.replace(Oe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ne,"+")):(h=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(De.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Fe,"$1"),h=(De.test(r)?"&":"?")+"_="+Ee.guid+++h),p.url=r+h),p.ifModified&&($.lastModified[r]&&k.setRequestHeader("If-Modified-Since",$.lastModified[r]),$.etag[r]&&k.setRequestHeader("If-None-Match",$.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Re+"; q=0.01":""):p.accepts["*"]),p.headers)k.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(f,k,p)||c))return k.abort();if(C="abort",m.add(p.complete),k.done(p.success),k.fail(p.error),i=Le(We,p,e,k)){if(k.readyState=1,d&&g.trigger("ajaxSend",[k,p]),c)return k;p.async&&p.timeout>0&&(a=n.setTimeout((function(){k.abort("timeout")}),p.timeout));try{c=!1,i.send(w,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,o,l){var u,h,b,w,x,C=e;c||(c=!0,a&&n.clearTimeout(a),i=void 0,s=l||"",k.readyState=t>0?4:0,u=t>=200&&t<300||304===t,o&&(w=function(t,e,i){for(var n,r,s,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}(p,k,o)),!u&&$.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),w=function(t,e,i,n){var r,s,o,a,l,c={},d=t.dataTypes.slice();if(d[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(s=d.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=d.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=c[l+" "+s]||c["* "+s]))for(r in c)if((a=r.split(" "))[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[r]:!0!==c[r]&&(s=a[0],d.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(p,w,k,u),u?(p.ifModified&&((x=k.getResponseHeader("Last-Modified"))&&($.lastModified[r]=x),(x=k.getResponseHeader("etag"))&&($.etag[r]=x)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=w.state,h=w.data,u=!(b=w.error))):(b=C,!t&&C||(C="error",t<0&&(t=0))),k.status=t,k.statusText=(e||C)+"",u?v.resolveWith(f,[h,C,k]):v.rejectWith(f,[k,C,b]),k.statusCode(y),y=void 0,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[k,p,u?h:b]),m.fireWith(f,[k,C]),d&&(g.trigger("ajaxComplete",[k,p]),--$.active||$.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,i){return $.get(t,e,i,"json")},getScript:function(t,e){return $.get(t,void 0,e,"script")}}),$.each(["get","post"],(function(t,e){$[e]=function(t,i,n,r){return m(i)&&(r=r||n,n=i,i=void 0),$.ajax($.extend({url:t,type:e,dataType:r,data:i,success:n},$.isPlainObject(t)&&t))}})),$.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),$._evalUrl=function(t,e,i){return $.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){$.globalEval(t,e,i)}})},$.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=$(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){$(this).wrapInner(t.call(this,e))})):this.each((function(){var e=$(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(i){$(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){$(this).replaceWith(this.childNodes)})),this}}),$.expr.pseudos.hidden=function(t){return!$.expr.pseudos.visible(t)},$.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},$.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ue={0:200,1223:204},Ge=$.ajaxSettings.xhr();v.cors=!!Ge&&"withCredentials"in Ge,v.ajax=Ge=!!Ge,$.ajaxTransport((function(t){var e,i;if(v.cors||Ge&&!t.crossDomain)return{send:function(r,s){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Ue[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){e&&i()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),$.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return $.globalEval(t),t}}}),$.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),$.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(n,r){e=$("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){i&&i()}}}));var Xe,Ke=[],Je=/(=)\?(?=&|$)|\?\?/;$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||$.expando+"_"+Ee.guid++;return this[t]=!0,t}}),$.ajaxPrefilter("json jsonp",(function(t,e,i){var r,s,o,a=!1!==t.jsonp&&(Je.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Je.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Je,"$1"+r):!1!==t.jsonp&&(t.url+=(De.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||$.error(r+" was not called"),o[0]},t.dataTypes[0]="json",s=n[r],n[r]=function(){o=arguments},i.always((function(){void 0===s?$(n).removeProp(r):n[r]=s,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ke.push(r)),o&&m(s)&&s(o[0]),o=s=void 0})),"script"})),v.createHTMLDocument=((Xe=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xe.childNodes.length),$.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(v.createHTMLDocument?((n=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(n)):e=b),s=!i&&[],(r=_.exec(t))?[e.createElement(r[1])]:(r=kt([t],e,s),s&&s.length&&$(s).remove(),$.merge([],r.childNodes)));var n,r,s},$.fn.load=function(t,e,i){var n,r,s,o=this,a=t.indexOf(" ");return a>-1&&(n=be(t.slice(a)),t=t.slice(0,a)),m(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&$.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){s=arguments,o.html(n?$("<div>").append($.parseHTML(t)).find(n):t)})).always(i&&function(t,e){o.each((function(){i.apply(this,s||[t.responseText,e,t])}))}),this},$.expr.pseudos.animated=function(t){return $.grep($.timers,(function(e){return t===e.elem})).length},$.offset={setOffset:function(t,e,i){var n,r,s,o,a,l,c=$.css(t,"position"),d=$(t),u={};"static"===c&&(t.style.position="relative"),a=d.offset(),s=$.css(t,"top"),l=$.css(t,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(o=(n=d.position()).top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),m(e)&&(e=e.call(t,i,$.extend({},a))),null!=e.top&&(u.top=e.top-a.top+o),null!=e.left&&(u.left=e.left-a.left+r),"using"in e?e.using.call(t,u):("number"==typeof u.top&&(u.top+="px"),"number"==typeof u.left&&(u.left+="px"),d.css(u))}},$.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){$.offset.setOffset(this,t,e)}));var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===$.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===$.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=$(t).offset()).top+=$.css(t,"borderTopWidth",!0),r.left+=$.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-$.css(n,"marginTop",!0),left:e.left-r.left-$.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===$.css(t,"position");)t=t.offsetParent;return t||ot}))}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;$.fn[t]=function(n){return q(this,(function(t,n,r){var s;if(y(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===r)return s?s[e]:t[n];s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):t[n]=r}),t,n,arguments.length)}})),$.each(["top","left"],(function(t,e){$.cssHooks[e]=Gt(v.pixelPosition,(function(t,i){if(i)return i=Ut(t,e),Vt.test(i)?$(t).position()[e]+"px":i}))})),$.each({Height:"height",Width:"width"},(function(t,e){$.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){$.fn[n]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===s?"margin":"border");return q(this,(function(e,i,r){var s;return y(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?$.css(e,i,a):$.style(e,i,r,a)}),e,o?r:void 0,o)}}))})),$.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){$.fn[e]=function(t){return this.on(e,t)}})),$.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),$.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){$.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}));var Ye=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;$.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),m(t))return n=a.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(a.call(arguments)))}).guid=t.guid=t.guid||$.guid++,r},$.holdReady=function(t){t?$.readyWait++:$.ready(!0)},$.isArray=Array.isArray,$.parseJSON=JSON.parse,$.nodeName=A,$.isFunction=m,$.isWindow=y,$.camelCase=K,$.type=C,$.now=Date.now,$.isNumeric=function(t){var e=$.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},$.trim=function(t){return null==t?"":(t+"").replace(Ye,"")},void 0===(i=function(){return $}.apply(e,[]))||(t.exports=i);var Qe=n.jQuery,Ze=n.$;return $.noConflict=function(t){return n.$===$&&(n.$=Ze),t&&n.jQuery===$&&(n.jQuery=Qe),$},void 0===r&&(n.jQuery=n.$=$),$}))},32:(t,e,i)=>{var n;t=i.nmd(t),function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof i.g&&i.g.global===i.g&&i.g||this||{},s=r._,o=Array.prototype,a=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=o.push,d=o.slice,u=a.toString,h=a.hasOwnProperty,p=Array.isArray,f=Object.keys,g=Object.create,v=function(){},m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};e.nodeType?r._=m:(!t.nodeType&&t.exports&&(e=t.exports=m),e._=m),m.VERSION="1.9.2";var y,b=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,s){return t.call(e,i,n,r,s)}}return function(){return t.apply(e,arguments)}},w=function(t,e,i){return m.iteratee!==y?m.iteratee(t,e):null==t?m.identity:m.isFunction(t)?b(t,e,i):m.isObject(t)&&!m.isArray(t)?m.matcher(t):m.property(t)};m.iteratee=y=function(t,e){return w(t,e,1/0)};var x=function(t,e){return e=null==e?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),n=Array(i),r=0;r<i;r++)n[r]=arguments[r+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var s=Array(e+1);for(r=0;r<e;r++)s[r]=arguments[r];return s[e]=n,t.apply(this,s)}},C=function(t){if(!m.isObject(t))return{};if(g)return g(t);v.prototype=t;var e=new v;return v.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},$=function(t,e){return null!=t&&h.call(t,e)},S=function(t,e){for(var i=e.length,n=0;n<i;n++){if(null==t)return;t=t[e[n]]}return i?t:void 0},E=Math.pow(2,53)-1,D=k("length"),T=function(t){var e=D(t);return"number"==typeof e&&e>=0&&e<=E};m.each=m.forEach=function(t,e,i){var n,r;if(e=b(e,i),T(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var s=m.keys(t);for(n=0,r=s.length;n<r;n++)e(t[s[n]],s[n],t)}return t},m.map=m.collect=function(t,e,i){e=w(e,i);for(var n=!T(t)&&m.keys(t),r=(n||t).length,s=Array(r),o=0;o<r;o++){var a=n?n[o]:o;s[o]=e(t[a],a,t)}return s};var M=function(t){var e=function(e,i,n,r){var s=!T(e)&&m.keys(e),o=(s||e).length,a=t>0?0:o-1;for(r||(n=e[s?s[a]:a],a+=t);a>=0&&a<o;a+=t){var l=s?s[a]:a;n=i(n,e[l],l,e)}return n};return function(t,i,n,r){var s=arguments.length>=3;return e(t,b(i,r,4),n,s)}};m.reduce=m.foldl=m.inject=M(1),m.reduceRight=m.foldr=M(-1),m.find=m.detect=function(t,e,i){var n=(T(t)?m.findIndex:m.findKey)(t,e,i);if(void 0!==n&&-1!==n)return t[n]},m.filter=m.select=function(t,e,i){var n=[];return e=w(e,i),m.each(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n},m.reject=function(t,e,i){return m.filter(t,m.negate(w(e)),i)},m.every=m.all=function(t,e,i){e=w(e,i);for(var n=!T(t)&&m.keys(t),r=(n||t).length,s=0;s<r;s++){var o=n?n[s]:s;if(!e(t[o],o,t))return!1}return!0},m.some=m.any=function(t,e,i){e=w(e,i);for(var n=!T(t)&&m.keys(t),r=(n||t).length,s=0;s<r;s++){var o=n?n[s]:s;if(e(t[o],o,t))return!0}return!1},m.contains=m.includes=m.include=function(t,e,i,n){return T(t)||(t=m.values(t)),("number"!=typeof i||n)&&(i=0),m.indexOf(t,e,i)>=0},m.invoke=x((function(t,e,i){var n,r;return m.isFunction(e)?r=e:m.isArray(e)&&(n=e.slice(0,-1),e=e[e.length-1]),m.map(t,(function(t){var s=r;if(!s){if(n&&n.length&&(t=S(t,n)),null==t)return;s=t[e]}return null==s?s:s.apply(t,i)}))})),m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matcher(e))},m.findWhere=function(t,e){return m.find(t,m.matcher(e))},m.max=function(t,e,i){var n,r,s=-1/0,o=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=T(t)?t:m.values(t)).length;a<l;a++)null!=(n=t[a])&&n>s&&(s=n);else e=w(e,i),m.each(t,(function(t,i,n){((r=e(t,i,n))>o||r===-1/0&&s===-1/0)&&(s=t,o=r)}));return s},m.min=function(t,e,i){var n,r,s=1/0,o=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=T(t)?t:m.values(t)).length;a<l;a++)null!=(n=t[a])&&n<s&&(s=n);else e=w(e,i),m.each(t,(function(t,i,n){((r=e(t,i,n))<o||r===1/0&&s===1/0)&&(s=t,o=r)}));return s},m.shuffle=function(t){return m.sample(t,1/0)},m.sample=function(t,e,i){if(null==e||i)return T(t)||(t=m.values(t)),t[m.random(t.length-1)];var n=T(t)?m.clone(t):m.values(t),r=D(n);e=Math.max(Math.min(e,r),0);for(var s=r-1,o=0;o<e;o++){var a=m.random(o,s),l=n[o];n[o]=n[a],n[a]=l}return n.slice(0,e)},m.sortBy=function(t,e,i){var n=0;return e=w(e,i),m.pluck(m.map(t,(function(t,i,r){return{value:t,index:n++,criteria:e(t,i,r)}})).sort((function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index})),"value")};var A=function(t,e){return function(i,n,r){var s=e?[[],[]]:{};return n=w(n,r),m.each(i,(function(e,r){var o=n(e,r,i);t(s,e,o)})),s}};m.groupBy=A((function(t,e,i){$(t,i)?t[i].push(e):t[i]=[e]})),m.indexBy=A((function(t,e,i){t[i]=e})),m.countBy=A((function(t,e,i){$(t,i)?t[i]++:t[i]=1}));var _=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(t){return t?m.isArray(t)?d.call(t):m.isString(t)?t.match(_):T(t)?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:T(t)?t.length:m.keys(t).length},m.partition=A((function(t,e,i){t[i?0:1].push(e)}),!0),m.first=m.head=m.take=function(t,e,i){return null==t||t.length<1?null==e?void 0:[]:null==e||i?t[0]:m.initial(t,t.length-e)},m.initial=function(t,e,i){return d.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},m.last=function(t,e,i){return null==t||t.length<1?null==e?void 0:[]:null==e||i?t[t.length-1]:m.rest(t,Math.max(0,t.length-e))},m.rest=m.tail=m.drop=function(t,e,i){return d.call(t,null==e||i?1:e)},m.compact=function(t){return m.filter(t,Boolean)};var H=function(t,e,i,n){for(var r=(n=n||[]).length,s=0,o=D(t);s<o;s++){var a=t[s];if(T(a)&&(m.isArray(a)||m.isArguments(a)))if(e)for(var l=0,c=a.length;l<c;)n[r++]=a[l++];else H(a,e,i,n),r=n.length;else i||(n[r++]=a)}return n};m.flatten=function(t,e){return H(t,e,!1)},m.without=x((function(t,e){return m.difference(t,e)})),m.uniq=m.unique=function(t,e,i,n){m.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=w(i,n));for(var r=[],s=[],o=0,a=D(t);o<a;o++){var l=t[o],c=i?i(l,o,t):l;e&&!i?(o&&s===c||r.push(l),s=c):i?m.contains(s,c)||(s.push(c),r.push(l)):m.contains(r,l)||r.push(l)}return r},m.union=x((function(t){return m.uniq(H(t,!0,!0))})),m.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=D(t);n<r;n++){var s=t[n];if(!m.contains(e,s)){var o;for(o=1;o<i&&m.contains(arguments[o],s);o++);o===i&&e.push(s)}}return e},m.difference=x((function(t,e){return e=H(e,!0,!0),m.filter(t,(function(t){return!m.contains(e,t)}))})),m.unzip=function(t){for(var e=t&&m.max(t,D).length||0,i=Array(e),n=0;n<e;n++)i[n]=m.pluck(t,n);return i},m.zip=x(m.unzip),m.object=function(t,e){for(var i={},n=0,r=D(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i};var N=function(t){return function(e,i,n){i=w(i,n);for(var r=D(e),s=t>0?0:r-1;s>=0&&s<r;s+=t)if(i(e[s],s,e))return s;return-1}};m.findIndex=N(1),m.findLastIndex=N(-1),m.sortedIndex=function(t,e,i,n){for(var r=(i=w(i,n,1))(e),s=0,o=D(t);s<o;){var a=Math.floor((s+o)/2);i(t[a])<r?s=a+1:o=a}return s};var O=function(t,e,i){return function(n,r,s){var o=0,a=D(n);if("number"==typeof s)t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(i&&s&&a)return n[s=i(n,r)]===r?s:-1;if(r!=r)return(s=e(d.call(n,o,a),m.isNaN))>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(n[s]===r)return s;return-1}};m.indexOf=O(1,m.findIndex,m.sortedIndex),m.lastIndexOf=O(-1,m.findLastIndex),m.range=function(t,e,i){null==e&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),s=0;s<n;s++,t+=i)r[s]=t;return r},m.chunk=function(t,e){if(null==e||e<1)return[];for(var i=[],n=0,r=t.length;n<r;)i.push(d.call(t,n,n+=e));return i};var F=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var s=C(t.prototype),o=t.apply(s,r);return m.isObject(o)?o:s};m.bind=x((function(t,e,i){if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");var n=x((function(r){return F(t,n,e,this,i.concat(r))}));return n})),m.partial=x((function(t,e){var i=m.partial.placeholder,n=function(){for(var r=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===i?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return F(t,n,this,this,o)};return n})),m.partial.placeholder=m,m.bindAll=x((function(t,e){var i=(e=H(e,!1,!1)).length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=e[i];t[n]=m.bind(t[n],t)}})),m.memoize=function(t,e){var i=function(n){var r=i.cache,s=""+(e?e.apply(this,arguments):n);return $(r,s)||(r[s]=t.apply(this,arguments)),r[s]};return i.cache={},i},m.delay=x((function(t,e,i){return setTimeout((function(){return t.apply(null,i)}),e)})),m.defer=m.partial(m.delay,m,1),m.throttle=function(t,e,i){var n,r,s,o,a=0;i||(i={});var l=function(){a=!1===i.leading?0:m.now(),n=null,o=t.apply(r,s),n||(r=s=null)},c=function(){var c=m.now();a||!1!==i.leading||(a=c);var d=e-(c-a);return r=this,s=arguments,d<=0||d>e?(n&&(clearTimeout(n),n=null),a=c,o=t.apply(r,s),n||(r=s=null)):n||!1===i.trailing||(n=setTimeout(l,d)),o};return c.cancel=function(){clearTimeout(n),a=0,n=r=s=null},c},m.debounce=function(t,e,i){var n,r,s=function(e,i){n=null,i&&(r=t.apply(e,i))},o=x((function(o){if(n&&clearTimeout(n),i){var a=!n;n=setTimeout(s,e),a&&(r=t.apply(this,o))}else n=m.delay(s,e,this,o);return r}));return o.cancel=function(){clearTimeout(n),n=null},o},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},m.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},m.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},m.once=m.partial(m.before,2),m.restArguments=x;var j=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],I=function(t,e){var i=P.length,n=t.constructor,r=m.isFunction(n)&&n.prototype||a,s="constructor";for($(t,s)&&!m.contains(e,s)&&e.push(s);i--;)(s=P[i])in t&&t[s]!==r[s]&&!m.contains(e,s)&&e.push(s)};m.keys=function(t){if(!m.isObject(t))return[];if(f)return f(t);var e=[];for(var i in t)$(t,i)&&e.push(i);return j&&I(t,e),e},m.allKeys=function(t){if(!m.isObject(t))return[];var e=[];for(var i in t)e.push(i);return j&&I(t,e),e},m.values=function(t){for(var e=m.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n},m.mapObject=function(t,e,i){e=w(e,i);for(var n=m.keys(t),r=n.length,s={},o=0;o<r;o++){var a=n[o];s[a]=e(t[a],a,t)}return s},m.pairs=function(t){for(var e=m.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},m.invert=function(t){for(var e={},i=m.keys(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e},m.functions=m.methods=function(t){var e=[];for(var i in t)m.isFunction(t[i])&&e.push(i);return e.sort()};var z=function(t,e){return function(i){var n=arguments.length;if(e&&(i=Object(i)),n<2||null==i)return i;for(var r=1;r<n;r++)for(var s=arguments[r],o=t(s),a=o.length,l=0;l<a;l++){var c=o[l];e&&void 0!==i[c]||(i[c]=s[c])}return i}};m.extend=z(m.allKeys),m.extendOwn=m.assign=z(m.keys),m.findKey=function(t,e,i){e=w(e,i);for(var n,r=m.keys(t),s=0,o=r.length;s<o;s++)if(e(t[n=r[s]],n,t))return n};var W,R,V=function(t,e,i){return e in i};m.pick=x((function(t,e){var i={},n=e[0];if(null==t)return i;m.isFunction(n)?(e.length>1&&(n=b(n,e[1])),e=m.allKeys(t)):(n=V,e=H(e,!1,!1),t=Object(t));for(var r=0,s=e.length;r<s;r++){var o=e[r],a=t[o];n(a,o,t)&&(i[o]=a)}return i})),m.omit=x((function(t,e){var i,n=e[0];return m.isFunction(n)?(n=m.negate(n),e.length>1&&(i=e[1])):(e=m.map(H(e,!1,!1),String),n=function(t,i){return!m.contains(e,i)}),m.pick(t,n,i)})),m.defaults=z(m.allKeys,!0),m.create=function(t,e){var i=C(t);return e&&m.extendOwn(i,e),i},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t},m.isMatch=function(t,e){var i=m.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),s=0;s<n;s++){var o=i[s];if(e[o]!==r[o]||!(o in r))return!1}return!0},W=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&R(t,e,i,n)},R=function(t,e,i,n){t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var r=u.call(t);if(r!==u.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return l.valueOf.call(t)===l.valueOf.call(e)}var s="[object Array]"===r;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var c=(i=i||[]).length;c--;)if(i[c]===t)return n[c]===e;if(i.push(t),n.push(e),s){if((c=t.length)!==e.length)return!1;for(;c--;)if(!W(t[c],e[c],i,n))return!1}else{var d,h=m.keys(t);if(c=h.length,m.keys(e).length!==c)return!1;for(;c--;)if(d=h[c],!$(e,d)||!W(t[d],e[d],i,n))return!1}return i.pop(),n.pop(),!0},m.isEqual=function(t,e){return W(t,e)},m.isEmpty=function(t){return null==t||(T(t)&&(m.isArray(t)||m.isString(t)||m.isArguments(t))?0===t.length:0===m.keys(t).length)},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=p||function(t){return"[object Array]"===u.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(t){m["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}})),m.isArguments(arguments)||(m.isArguments=function(t){return $(t,"callee")});var B=r.document&&r.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof B&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return!m.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&isNaN(t)},m.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){if(!m.isArray(e))return $(t,e);for(var i=e.length,n=0;n<i;n++){var r=e[n];if(null==t||!h.call(t,r))return!1;t=t[r]}return!!i},m.noConflict=function(){return r._=s,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return m.isArray(t)?function(e){return S(e,t)}:k(t)},m.propertyOf=function(t){return null==t?function(){}:function(e){return m.isArray(e)?S(t,e):t[e]}},m.matcher=m.matches=function(t){return t=m.extendOwn({},t),function(e){return m.isMatch(e,t)}},m.times=function(t,e,i){var n=Array(Math.max(0,t));e=b(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},q=m.invert(L),U=function(t){var e=function(e){return t[e]},i="(?:"+m.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};m.escape=U(L),m.unescape=U(q),m.result=function(t,e,i){m.isArray(e)||(e=[e]);var n=e.length;if(!n)return m.isFunction(i)?i.call(t):i;for(var r=0;r<n;r++){var s=null==t?void 0:t[e[r]];void 0===s&&(s=i,r=n),t=m.isFunction(s)?s.call(t):s}return t};var G=0;m.uniqueId=function(t){var e=++G+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(t){return"\\"+K[t]};m.template=function(t,e,i){!e&&i&&(e=i),e=m.defaults({},e,m.templateSettings);var n,r=RegExp([(e.escape||X).source,(e.interpolate||X).source,(e.evaluate||X).source].join("|")+"|$","g"),s=0,o="__p+='";t.replace(r,(function(e,i,n,r,a){return o+=t.slice(s,a).replace(J,Y),s=a+e.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(o+="';\n"+r+"\n__p+='"),e})),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return n.call(this,t,m)},l=e.variable||"obj";return a.source="function("+l+"){\n"+o+"}",a},m.chain=function(t){var e=m(t);return e._chain=!0,e};var Q=function(t,e){return t._chain?m(e).chain():e};m.mixin=function(t){return m.each(m.functions(t),(function(e){var i=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),Q(this,i.apply(m,t))}})),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=o[t];m.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],Q(this,i)}})),m.each(["concat","join","slice"],(function(t){var e=o[t];m.prototype[t]=function(){return Q(this,e.apply(this._wrapped,arguments))}})),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},void 0===(n=function(){return m}.apply(e,[]))||(t.exports=n)}()},385:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.PrototypeBuilder=e.inlineBuilderMenuData=e.pictureMenuData=e.fileMenuData=e.PrototypeBuilderEvents=void 0;const r=i(80),s=i(210),o=i(403),a=i(100),l=i(676),c=i(93),d=i(347),u=i(724);var h;!function(t){t.DidActivatePlugin="DidActivatePlugin",t.NewPrototype="NewPrototype",t.SavePrototype="SavePrototype",t.SaveAs="SaveAs",t.OpenPrototype="OpenPrototype",t.DidSwitchToSimulatorView="DidSwitchToSimulatorView",t.DidSwitchToBuilderView="DidSwitchToBuilderView",t.DidUpdateWidgets="DidUpdateWidgets",t.DidUpdateSettings="DidUpdateSettings",t.DidRebootPrototype="DidRebootPrototype",t.DidChangePicture="DidChangePicture"}(h=e.PrototypeBuilderEvents||(e.PrototypeBuilderEvents={})),e.fileMenuData={id:"builder-file-dropdown-menu",name:"File",style:".builder-file-dropdown-menu { top: 4px !important; }",content:'\n        <button type="button" class="dropdown-item btn-sm new-prototype">New Prototype..</button>\n        <div class="dropdown-divider"></div>\n        <button type="button" class="dropdown-item btn-sm open">Open..</button>\n        <div class="dropdown-divider"></div>\n        <button type="button" class="dropdown-item btn-sm save">Save</button>\n        <button type="button" class="dropdown-item btn-sm save-as">Save As..</button>'},e.pictureMenuData={id:"builder-picture-dropdown-menu",name:"Picture",style:".builder-picture-dropdown-menu { top: 4px !important; min-width:220px; padding:10px; }",content:'\n        <div class="custom-file">\n            <form class="load-picture-form">\n                <input type="file" class="custom-file-input change-picture-btn" accept="image/*">\n                <label class="custom-file-label btn-sm">Change Picture</label>\n            </form>\n        </div>\n        <div class="dropdown-divider"></div>\n        <button class="btn btn-outline-danger btn-lg remove-picture-btn btn-sm">Remove Picture</button>'},e.inlineBuilderMenuData={id:"inline-builder-menu",name:"inline-builder-menu",style:"\n        .custom-file {\n            width: 200px !important;\n        }\n        .custom-file-input {\n            line-height:18px;\n        }\n        .custom-file-label {\n            transform: scale(0.8);\n            transform-origin:right top;\n            margin-top: 0px;\n        }\n    ",buttons:['<div class="custom-file builder-menu">\n            <form class="load-picture-form">\n                <input type="file" class="custom-file-input change-picture-btn" accept="image/*">\n                <label class="custom-file-label btn-sm">Change Picture</label>\n            </form>\n        </div>','<button class="btn btn-sm btn-secondary dropdown-toggle builder-menu" style="position:relative;z-index:2;" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>\n        <div class="dropdown-menu">\n            <button class="btn btn-outline-danger btn-lg remove-picture-btn btn-sm" style="width:100%; transform:scale(0.8);">Remove Picture</button>\n        </div>','<button class="btn btn-danger btn-lg simulator-menu reboot-prototype-btn btn-sm"><div class="fa fa-undo"></div> Reboot Prototype</button>']};const p=i(845),f=i(210),g=i(31);class v extends p.Model{constructor(){super(...arguments),this.name="Prototype Builder",this.id=s.removeSpaceDash(this.name),this.mode="builder",this.activeFlag=!1,this.parent="body",this.widgetClassManager=new g.WidgetClassManager,this.width="0px",this.sidePanelCollapsed=!1}activate(t){var e,i,c,u;return n(this,void 0,void 0,(function*(){t=t||{},this.parent=t.parent||this.parent,this.connection=t.connection||new r.BackboneConnection,this.panel=s.createCollapsiblePanel(this,{parent:this.parent,showContent:!0,hideNavbar:!0}),this.body=this.createPanelBody({parent:this.panel.$content});const n=this.panel.$content.find(".prototype-screens")[0],p=this.panel.$content.find(".prototype-screen-list")[0];return this.sideViews={Builder:new a.WidgetsListView({el:this.panel.$content.find(".widget-list")[0]})},this.centralViews={Settings:new l.SettingsView({label:"Settings",viewId:"settings",panelId:"settings",el:n,headerDiv:p,parentDiv:this.body.$central[0],settings:t.settings},this.connection),Builder:new o.BuilderView({label:"Builder",viewId:"builder-view",panelId:"builder-view",el:n,headerDiv:p,active:!0,parentDiv:this.body.$central[0],widgetClassMap:(null===(e=this.widgetClassManager)||void 0===e?void 0:e.getWidgetClassMap())||{}},this.connection),Simulator:new d.SimulatorView({label:"Simulator",viewId:"simulator-view",panelId:"builder-view",externalPanel:!0,el:n,headerDiv:p,parentDiv:this.body.$central[0]},this.connection)},yield this.renderViews(),null===(c=null===(i=this.centralViews)||void 0===i?void 0:i.Builder)||void 0===c||c.createWhiteboard(),this.$menu=null===(u=this.panel)||void 0===u?void 0:u.$content.find(".panel-menu"),this.installHandlers(),this.onResizeCentralView(),this.trigger(h.DidActivatePlugin),this.switchToBuilderView(),this.activeFlag=!0,this.activeFlag}))}getView(t){return this.centralViews[t]}isActive(){return this.activeFlag}hideBuilderMenu(){var t;null===(t=this.$menu)||void 0===t||t.find(".builder-menu").css("display","none")}revealBuilderMenu(){var t;null===(t=this.$menu)||void 0===t||t.find(".builder-menu").css("display","inline-block")}hideSimulatorMenu(){var t;null===(t=this.$menu)||void 0===t||t.find(".simulator-menu").css("display","none")}revealSimulatorMenu(){var t;null===(t=this.$menu)||void 0===t||t.find(".simulator-menu").css("display","inline-block")}renderWidgets(t,e){var i,r;return n(this,void 0,void 0,(function*(){return console.log("[pvsio-web] Render widgets",t,e),yield null===(r=null===(i=this.centralViews)||void 0===i?void 0:i.Simulator)||void 0===r?void 0:r.renderWidgets(t,e)}))}createPanelBody(t){const i=`${this.id}-panel`,n=Handlebars.compile(s.inlineMenuTemplate,{noEscape:!0})(Object.assign({},e.inlineBuilderMenuData)),r=Handlebars.compile('\n<style>\n.builder-sidebar-heading {\n    color: white;\n    display: block;\n    background-color: #4c4c4c;\n    height: 40px;\n}\n.left-panel {\n    overflow-x:hidden;\n    width:30%; \n    min-width:10px; \n    position:relative;\n    border: 1px solid lightgray;\n}\n.widget-list {\n    margin-left: 0px;\n    width: 100%;\n}\n.widget-list-item {\n    padding: 10px 0 10px 22px !important;\n    border: 1px solid black !important;\n}\n.builder-controls {\n    position: absolute;\n    background-color: white;\n    border-radius: 4px;\n    top: 2px;\n    left: 32px;\n    transform: scale(0.8);\n}\n.resize-bar {\n    width:6px;\n    background-color:#4c4c4c;\n}\n.central-panel {\n    position:relative;\n    width:66%;\n    height:100%;\n    overflow:hidden;\n}\n.central-panel-inner {\n    overflow:hidden;\n    height:100%;\n}\n.central-panel-inner-header {\n    margin-top:-8px;\n    font-size:small;\n}\n.prototype-screens {\n    margin:0px;\n    width:100% !important;\n    min-height:600px;\n}\n.card-header-dropdown-menu {\n    position:absolute;\n    top:8px;\n    border: 0px;\n    z-index:0;\n}\n.r-10 {\n    right:10px !important;\n    margin-top:-3px !important; \n}\n.builder-content {\n    height:100%;\n    margin-left:0;\n}\n</style>\n<div id="{{id}}" class="builder-content row d-flex p-0">\n    <div id="{{id}}-left" class="left-panel container-fluid no-gutters p-0">\n        <div class="builder-sidebar-heading"></div>\n        <div id="{{id}}-widget-list" class="widget-list list-group"></div>\n        <div id="{{id}}-timers-list" class="list-group"></div>\n    </div>\n    <div id="{{id}}-resize-bar" class="resize-bar"></div>\n    <div id="{{id}}-central" class="flex-grow-1 no-gutters p-0 central-panel">\n        <div class="card central-panel-inner">\n            <div class="card-header central-panel-inner-header">\n                <ul class="nav nav-tabs card-header-tabs d-flex flex-nowrap prototype-screen-list"></ul>\n            </div>\n            <div class="card-body prototype-screens tab-content py-0"></div>\n            <div class="nav nav-tabs card-header-dropdown-menu r-10 d-flex flex-nowrap">\n                <div class="d-flex" style="background-color:whitesmoke;">\n                    {{#each menus}}\n                    {{this}}\n                    {{/each}}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',{noEscape:!0})({id:i,menus:[n]});t.parent.append(r);const o=$(`#${i}`),a=$(`#${i}-left`),l=$(`#${i}-central`),c=$(`#${i}-resize-bar`);return s.enableResizeLeft({$div:o,$left:a,$central:l,$resizeBar:c,onResize:this.onResizeCentralView})}onResizeCentralView(t){var e;for(let e in this.centralViews)this.centralViews[e].resizeView(t);this.width=null===(e=this.body)||void 0===e?void 0:e.$left.css("width")}installHandlers(){var t,e,i,r,s,a,u,p,f,g,v,m;null===(e=null===(t=this.centralViews)||void 0===t?void 0:t.Simulator)||void 0===e||e.on(c.CentralViewEvents.DidShowView,(()=>{this.switchToSimulatorView()})),null===(r=null===(i=this.centralViews)||void 0===i?void 0:i.Builder)||void 0===r||r.on(c.CentralViewEvents.DidShowView,(()=>{this.switchToBuilderView()})),null===(a=null===(s=this.centralViews)||void 0===s?void 0:s.Settings)||void 0===a||a.on(c.CentralViewEvents.DidShowView,(()=>{this.switchToSettingsView()})),null===(p=null===(u=this.centralViews)||void 0===u?void 0:u.Builder)||void 0===p||p.on(o.BuilderEvents.DidChangePicture,(t=>{var e;const i=this.getPrototypeData(),n=Object.assign(Object.assign({},i),t);console.log("[prototype-builder] DidChangePicture",n),null===(e=this.connection)||void 0===e||e.trigger(h.DidChangePicture,n)})),null===(g=null===(f=this.centralViews)||void 0===f?void 0:f.Simulator)||void 0===g||g.on(d.SimulatorEvents.DidRebootPrototype,(()=>{this.rebootPrototype()})),null===(m=null===(v=this.centralViews)||void 0===v?void 0:v.Settings)||void 0===m||m.on(l.SettingsEvents.DidUpdateSettings,(t=>{var e;null===(e=this.connection)||void 0===e||e.trigger(h.DidUpdateSettings,t)})),this.panel.$content.find(".new-prototype").on("click",(t=>{var e;const i=this.getPrototypeData();console.log("[prototype-builder] NewPrototypeRequest",i),null===(e=this.connection)||void 0===e||e.trigger(h.NewPrototype,i)})),this.panel.$content.find(".open").on("click",(t=>{var e;const i=this.getPrototypeData();console.log("[prototype-builder] OpenPrototypeRequest",i),null===(e=this.connection)||void 0===e||e.trigger(h.OpenPrototype,i)})),this.panel.$content.find(".save").on("click",(t=>{var e;const i=this.getPrototypeData();console.log("[prototype-builder] SavePrototypeRequest",i),null===(e=this.connection)||void 0===e||e.trigger(h.SavePrototype,i)})),this.panel.$content.find(".save-as").on("click",(t=>{var e;const i=this.getPrototypeData();console.log("[prototype-builder] SaveAsRequest",i),null===(e=this.connection)||void 0===e||e.trigger(h.SaveAs,i)})),this.panel.$content.find(".remove-picture-btn").on("click",(t=>n(this,void 0,void 0,(function*(){var t;yield null===(t=this.centralViews)||void 0===t?void 0:t.Builder.createWhiteboard()})))),this.panel.$content.find(".change-picture-btn").on("input",(t=>n(this,void 0,void 0,(function*(){var e;yield null===(e=this.centralViews)||void 0===e?void 0:e.Builder.onDidChangePicture(t)}))))}renderViews(){var t,e,i;return n(this,void 0,void 0,(function*(){for(let n in this.centralViews)yield this.centralViews[n].renderView(),this.centralViews[n].on(c.CentralViewEvents.DidShowView,(t=>{var e,i;for(let t in this.sideViews)null===(e=this.sideViews[t])||void 0===e||e.hide();null===(i=this.sideViews[n])||void 0===i||i.reveal()})),this.centralViews[n].on(o.BuilderEvents.DidUpdateWidgets,(t=>{var e;const i=this.getPrototypeData();console.log("[prototype-builder] DidUpdateWidgets",i),null===(e=this.connection)||void 0===e||e.trigger(h.DidUpdateWidgets,i)})),this.centralViews[n].on(o.BuilderEvents.DidCreateWidget,(t=>{var e,i;null===(e=this.sideViews[n])||void 0===e||e.refresh(null==t?void 0:t.widgets),null===(i=this.sideViews[n])||void 0===i||i.selectWidget({id:null==t?void 0:t.id})})),this.centralViews[n].on(o.BuilderEvents.DidDeleteWidget,(t=>{var e;null===(e=this.sideViews[n])||void 0===e||e.refresh(null==t?void 0:t.widgets)})),this.centralViews[n].on(o.BuilderEvents.DidCutWidget,(t=>{var e;null===(e=this.sideViews[n])||void 0===e||e.refresh(null==t?void 0:t.widgets)})),this.centralViews[n].on(o.BuilderEvents.DidSelectWidget,(t=>{var e;null===(e=this.sideViews[n])||void 0===e||e.selectWidget({id:null==t?void 0:t.id})})),null===(t=this.sideViews[n])||void 0===t||t.on(o.BuilderEvents.DidSelectWidget,(t=>{this.centralViews[n].selectWidget({id:null==t?void 0:t.id})})),null===(e=this.sideViews[n])||void 0===e||e.on(o.BuilderEvents.DidDeselectWidget,(t=>{this.centralViews[n].deselectWidget({id:null==t?void 0:t.id})})),null===(i=this.sideViews[n])||void 0===i||i.on(o.BuilderEvents.WillEditWidget,(t=>{this.centralViews[n].editWidget({id:null==t?void 0:t.id})}))}))}getName(){return this.name}getId(){return this.id}getDependencies(){return[]}switchToBuilderView(){var t,e,i;console.log("[prototype-builder] BuilderView"),null===(e=null===(t=this.centralViews)||void 0===t?void 0:t.Builder)||void 0===e||e.builderView(),this.sidePanelCollapsed&&this.expandSidePanel(),this.revealBuilderMenu(),this.hideSimulatorMenu(),this.mode="builder",null===(i=this.connection)||void 0===i||i.trigger(h.DidSwitchToBuilderView)}switchToSimulatorView(){var t,e,i,n,r,s;console.log("[prototype-builder] SimulatorView"),null===(e=null===(t=this.centralViews)||void 0===t?void 0:t.Builder)||void 0===e||e.simulatorView(),this.collapseSidePanel(),this.revealSimulatorMenu(),this.hideBuilderMenu();const o=null===(n=null===(i=this.centralViews)||void 0===i?void 0:i.Builder)||void 0===n?void 0:n.getWidgets();null===(s=null===(r=this.centralViews)||void 0===r?void 0:r.Simulator)||void 0===s||s.importWidgets(o),this.mode="simulator"}switchToSettingsView(){this.saveSidePanelWidth(),this.mode="settings"}rebootPrototype(){var t,e,i;const n=null===(e=null===(t=this.centralViews)||void 0===t?void 0:t.Settings)||void 0===e?void 0:e.getCurrentSettings();null===(i=this.connection)||void 0===i||i.trigger(h.DidSwitchToSimulatorView,n)}collapseSidePanel(){var t;this.saveSidePanelWidth(),null===(t=this.body.$left)||void 0===t||t.animate({width:"0px"},500),this.sidePanelCollapsed=!0}saveSidePanelWidth(){this.body.disableResize=!0;const t=this.body.$left.css("width");parseFloat(t)>20&&(this.width=t)}expandSidePanel(){var t;this.body.disableResize=!1,null===(t=this.body.$left)||void 0===t||t.animate({width:this.width},500),this.sidePanelCollapsed=!1}loadPrototypeData(t){return n(this,void 0,void 0,(function*(){if(console.log("[pvsio-web] loading prototype data",t),t){if(t.pictureFile&&t.pictureData){const e=t.pictureFile,i={fileName:u.getFileName(e),fileExtension:u.getFileExtension(e),fileContent:t.pictureData};yield this.centralViews.Builder.loadPicture(i)}if(t.widgets)for(let e=0;e<t.widgets.length;e++){const i=t.widgets[e];yield this.centralViews.Builder.loadWidget(i),this.centralViews.Builder.createHotspot(i)}}else console.warn("[pvsio-web] Warning: prototype data is null")}))}getPrototypeData(){var t,e,i,n,r,s,o;if(this.centralViews){const a=null===(t=this.centralViews.Settings)||void 0===t?void 0:t.getValue(f.SettingsAttributes.contextFolder),l=null===(e=this.centralViews.Settings)||void 0===e?void 0:e.getCurrentSettings(),c=Object.assign({version:3,contextFolder:a},l);return c.pictureFile=null===(i=this.centralViews)||void 0===i?void 0:i.Builder.getCurrentPictureFileName(),c.pictureWidth=null===(n=this.centralViews)||void 0===n?void 0:n.Builder.getCurrentPictureWidth(),c.pictureHeight=null===(r=this.centralViews)||void 0===r?void 0:r.Builder.getCurrentPictureHeight(),c.pictureData=null===(s=this.centralViews)||void 0===s?void 0:s.Builder.getCurrentPictureData(),c.widgets=null===(o=this.centralViews)||void 0===o?void 0:o.Builder.getCurrentWidgetsData(),c}return null}}e.PrototypeBuilder=v,v.constructorName="PrototypeBuilder"},31:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetClassManager=void 0;const n=i(83);e.WidgetClassManager=class{constructor(){this.widgetClassMap=n.coreWidgetClassMap}getWidgetClassMap(){return this.widgetClassMap||{}}importWidgetClassMap(t){if(t)for(let e in t){const i=t[e];for(let t=0;t<i.length;t++){this.widgetClassMap[e]=this.widgetClassMap[e]||[];const n=i[t];this.widgetClassMap[e]=this.widgetClassMap[e].filter((t=>t.id!==n.id)),this.widgetClassMap[e].push(n)}}return this.widgetClassMap}}},403:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.BuilderView=e.BuilderEvents=void 0;const r=i(717),s=i(998),o=i(93),a=i(946),l=i(210),c=i(724);var d;!function(t){t.DidCreateWidget="DidCreateWidget",t.DidCutWidget="DidCutWidget",t.DidDeleteWidget="DidDeleteWidget",t.DidSelectWidget="DidSelectWidget",t.DidDeselectWidget="DidDeselectWidget",t.WillEditWidget="WillEditWidget",t.DidChangePicture="DidChangePicture",t.DidUpdateSettings="DidUpdateSettings",t.DidUpdateWidgets="DidUpdateWidgets"}(d=e.BuilderEvents||(e.BuilderEvents={}));class u extends o.CentralView{constructor(t,e){super(t,e),this.defaultPanelSize={width:o.MIN_WIDTH,height:o.MIN_HEIGHT},this.widgetsMap={},this.timer=null,this.widgetClassMap=null==t?void 0:t.widgetClassMap}setWidgetClassMap(t){this.widgetClassMap=t}getWidgetClassMap(){return this.widgetClassMap}getWidgets(){return this.widgetsMap}getHotspots(){return this.hotspotEditor.getHotspots()}renderView(){const t=Object.create(null,{renderView:{get:()=>super.renderView}});return n(this,void 0,void 0,(function*(){const e=Handlebars.compile('\n<style>\n.view-div {\n    position:absolute;\n    padding-left:0;\n}\n.builder-toolbar {\n    position:absolute; \n    transform:scale(0.8);\n    transform-origin:left;\n}\n.builder-toolbar .btn {\n    height:2.5em;\n}\n.builder-coords {\n    position:absolute;\n    color:darkslategray; \n    top:0.6em;\n    left:45%;\n    font-size:small;\n    white-space:nowrap;\n}\n.prototype-image {\n    overflow: hidden;\n}\n.prototype-image-frame {\n    position: absolute;\n    cursor: crosshair;\n}\n.prototype-image-overlay {\n    position: absolute;\n    cursor: crosshair;\n}\n.prototype {\n    transform-origin: top left;\n}\n</style>\n<div class="row" style="height:36px;">\n    <div class="builder-coords"></div>\n</div>\n<div class="prototype row">\n    <div class="prototype-image view-div container-fluid p-0"></div>\n    <div class="prototype-image-frame view-div container-fluid p-0"></div>\n    <div class="prototype-image-overlay container-fluid p-0"></div>\n</div>',{noEscape:!0})({});return yield t.renderView.call(this,Object.assign(Object.assign({},this.viewOptions),{content:e})),this.$imageDiv=this.$el.find(".prototype-image"),this.$imageFrame=this.$el.find(".prototype-image-frame"),this.$imageOverlay=this.$el.find(".prototype-image-overlay"),this.$coords=this.$el.find(".builder-coords"),this.$toolbar=this.$el.find(".builder-toolbar"),yield this.createWhiteboard(),yield this.createImageFrameLayer(),this.installHandlers(),this.resizeView(),this.createHotspotEditor(),this}))}resizePicture(t){t&&this.$imageDiv.find("img").attr("width",t.width).attr("height",t.height),(t=t||this.getCurrentPictureSize())&&(this.$imageDiv.css({width:`${t.width}px`,height:`${t.height}px`}),this.$imageFrame.find("img").attr("width",t.width).attr("height",t.height),this.$imageFrame.css({width:`${t.width}px`,height:`${t.height}px`}))}resizeView(t){super.resizeView({width:parseFloat(this.$imageDiv.css("width")),height:parseFloat(this.$imageDiv.css("height"))+36})}delayedTrigger(t){clearTimeout(this.timer),this.timer=setTimeout((()=>{const t=this.getCurrentWidgetsData();this.trigger(d.DidUpdateWidgets,t)}),o.DELAYED_TRIGGER_TIMEOUT)}createHotspotEditor(){this.hotspotEditor=new s.HotspotEditor({el:this.$imageFrame.find("img")[0],overlay:this.$imageOverlay[0],builderCoords:this.$coords[0]}),this.hotspotEditor.renderView(),this.hotspotEditor.on(s.HotspotEditorEvents.DidCreateHotspot,(t=>n(this,void 0,void 0,(function*(){(yield this.editWidget(t))||this.hotspotEditor.deleteHotspot(t)})))),this.hotspotEditor.on(s.HotspotEditorEvents.DidSelectHotspot,(t=>{this.trigger(d.DidSelectWidget,t)})),this.hotspotEditor.on(s.HotspotEditorEvents.DidMoveHotspot,(t=>{var e;null===(e=this.widgetsMap[t.id])||void 0===e||e.move(t.coords),this.delayedTrigger(d.DidUpdateWidgets)})),this.hotspotEditor.on(s.HotspotEditorEvents.DidResizeHotspot,(t=>{var e;null===(e=this.widgetsMap[t.id])||void 0===e||e.resize(t.coords),this.delayedTrigger(d.DidUpdateWidgets)})),this.hotspotEditor.on(s.HotspotEditorEvents.WillEditHotspot,(t=>n(this,void 0,void 0,(function*(){yield this.editWidget(t)})))),this.hotspotEditor.on(s.HotspotEditorEvents.DidCopyHotspot,(t=>n(this,void 0,void 0,(function*(){this.clipboard=this.widgetsMap[t.id]})))),this.hotspotEditor.on(s.HotspotEditorEvents.DidDeleteHotspot,(t=>n(this,void 0,void 0,(function*(){this.deleteWidget(t),this.trigger(d.DidDeleteWidget,Object.assign(Object.assign({},t),{widgets:this.getWidgets(),hotspots:this.getHotspots()})),this.delayedTrigger(d.DidUpdateWidgets)})))),this.hotspotEditor.on(s.HotspotEditorEvents.DidCutHotspot,(t=>n(this,void 0,void 0,(function*(){this.clipboard=this.widgetsMap[t.id],this.clipboard&&(this.clipboard.hide(),delete this.widgetsMap[t.id],this.trigger(d.DidCutWidget,Object.assign(Object.assign({},t),{widgets:this.getWidgets(),hotspots:this.getHotspots()})),this.delayedTrigger(d.DidUpdateWidgets))})))),this.hotspotEditor.on(s.HotspotEditorEvents.DidPasteHotspot,(t=>n(this,void 0,void 0,(function*(){if(t){const e=t.origin.id,i=this.widgetsMap[e]||this.clipboard;if(i){const e=Object.assign(Object.assign({},t.clone),{name:i.getName(),kind:i.getKind(),opt:i.getOptions(),cons:i.getConstructorName()});this.createWidget(e)}this.delayedTrigger(d.DidUpdateWidgets)}}))))}selectWidget(t){this.hotspotEditor.selectHotspot(t)}deselectWidget(t){this.hotspotEditor.deselectHotspot(t)}hideCoords(){var t;null===(t=this.$coords)||void 0===t||t.css("display","none")}revealCoords(){var t;null===(t=this.$coords)||void 0===t||t.css("display","block")}hideToolbar(){var t;null===(t=this.$toolbar)||void 0===t||t.css("display","none")}revealToolbar(){var t;null===(t=this.$toolbar)||void 0===t||t.css("display","block")}hideHotspots(){var t,e;null===(t=this.$imageOverlay)||void 0===t||t.css("display","none"),null===(e=this.$imageFrame)||void 0===e||e.css("cursor","default")}revealHotspots(){var t,e;null===(t=this.$imageOverlay)||void 0===t||t.css("display","block"),null===(e=this.$imageFrame)||void 0===e||e.css("cursor","crosshair")}builderView(){this.revealHotspots(),this.revealCoords(),this.revealToolbar()}simulatorView(){this.hideHotspots(),this.hideCoords(),this.hideToolbar()}getCurrentPicture(){const t=this.getCurrentPictureData(),e=this.getCurrentPictureFileName();return{fileContent:t,fileName:c.getFileName(e),fileExtension:c.getFileExtension(e)}}getCurrentPictureFileName(){var t;return null===(t=this.$imageDiv)||void 0===t?void 0:t.attr(l.SettingsAttributes.pictureFile)}getCurrentPictureData(){var t;return null===(t=this.$imageDiv)||void 0===t?void 0:t.find("img").attr("src")}getCurrentPictureSize(){return{width:this.getCurrentPictureWidth(),height:this.getCurrentPictureHeight()}}getCurrentPictureWidth(){var t;return(null===(t=this.$imageFrame)||void 0===t?void 0:t.find("img")[0]).width||0}getCurrentPictureHeight(){var t;return(null===(t=this.$imageFrame)||void 0===t?void 0:t.find("img")[0]).height||0}getCurrentWidgetsData(){if(this.widgetsMap){const t=Object.keys(this.widgetsMap),e=[];for(let i=0;i<t.length;i++){const n=this.widgetsMap[t[i]].toJSON();e.push(n)}return e}return[]}createWidget(t){if(console.log("[builder] Creating widget"),t&&t.cons&&t.kind){const e=this.widgetClassMap[t.kind].find((e=>e.cons.constructorName===t.cons));if(e){this.widgetsMap[t.id]&&this.widgetsMap[t.id].remove();const i=Object.assign(Object.assign({parent:this.$imageFrame,type:t.cons},null==t?void 0:t.opt),{connection:this.connection});console.log("[builder] Loading widget constructor");const n=new e.cons(t.id,t.coords,i);n.renderSample(),this.widgetsMap[t.id]=n;const r={id:t.id,name:t.name,widgets:this.getWidgets(),hotspots:this.getHotspots()};return console.log("[builder] Widget created",n),this.trigger(d.DidCreateWidget,r),n}}return null}deleteWidget(t){var e;null===(e=this.widgetsMap[t.id])||void 0===e||e.remove(),delete this.widgetsMap[t.id]}editWidget(t){return n(this,void 0,void 0,(function*(){if(null==t?void 0:t.id){const e=t.id,i=(null==t?void 0:t.coords)||this.hotspotEditor.getCoords(e);return new Promise(((t,n)=>{var s,o,l,c;if(e&&i){const n={id:e,coords:i,name:(null===(s=this.widgetsMap[e])||void 0===s?void 0:s.getName())||r.WidgetEVO.uuid(),kind:null===(o=this.widgetsMap[e])||void 0===o?void 0:o.getKind(),opt:null===(l=this.widgetsMap[e])||void 0===l?void 0:l.getOptions(),cons:null===(c=this.widgetsMap[e])||void 0===c?void 0:c.getConstructorName()};console.log("[builder] Creating widget editor dialog");const u=new a.WidgetEditor({widgetData:n,widgetClassMap:this.widgetClassMap});u.renderView(),u.on(a.WidgetEditorEvents.ok,(e=>{const i=this.createWidget(e);t(i),this.delayedTrigger(d.DidUpdateWidgets)})),u.on(a.WidgetEditorEvents.cancel,(e=>{t(null)}))}else t(null)}))}}))}loadWidget(t){return n(this,void 0,void 0,(function*(){return console.log("[builder] Loading widget",t),(null==t?void 0:t.id)&&t.coords?this.createWidget(t):(console.warn("[builder] Warning: unable to load widget",t),null)}))}createHotspot(t){return this.hotspotEditor.createHotspot(t)}createWhiteboard(){return n(this,void 0,void 0,(function*(){const t=this.defaultPanelSize;return yield this.loadPicture({fileName:"",fileExtension:"",fileContent:l.transparentGif},Object.assign(Object.assign({},t),{border:"1px solid black"}))}))}createImageFrameLayer(){return n(this,void 0,void 0,(function*(){const t=this.getActivePanelSize();yield this.loadPicture({fileName:"image-frame",fileExtension:".gif",fileContent:l.transparentGif},Object.assign(Object.assign({},t),{border:"1px solid black",$el:this.$imageFrame}))}))}getActivePictureSize(){const t=parseFloat($(".prototype-screens .tab-pane.active .prototype-image").css("width"))||window.innerWidth,e=parseFloat($(".prototype-screens .tab-pane.active .prototype-image").css("height"))||window.innerHeight-36;return{width:Math.min(t,o.MIN_WIDTH),height:Math.min(e,o.MIN_HEIGHT)}}getActivePanelSize(){return{width:parseFloat($(".prototype-screens").css("width"))||window.innerWidth||o.MIN_WIDTH,height:(parseFloat($(".prototype-screens .tab-pane.active").css("height"))||window.innerHeight||o.MIN_HEIGHT)-54}}loadPicture(t,e){return n(this,void 0,void 0,(function*(){if(t&&t.fileName&&t.fileContent&&t.fileExtension){const i=(e=e||{}).$el||this.$imageDiv,n=this.$imageFrame;if(t.fileContent.startsWith("data:image/")){const r=new Image;return e.width&&(r.width=e.width),e.height&&(r.height=e.height),e.border&&n.css({border:"1px solid black"}),r.src=t.fileContent,new Promise(((e,n)=>{r.onload=n=>{var s,o,a;const c=null===(s=null==n?void 0:n.target)||void 0===s?void 0:s.width,d=null===(o=null==n?void 0:n.target)||void 0===o?void 0:o.height,u=null===(a=null==n?void 0:n.target)||void 0===a?void 0:a.src;i.html(r),i.attr(l.SettingsAttributes.pictureFile,`${t.fileName}${t.fileExtension}`),this.resizePicture({width:c,height:d}),this.resizeView();const h={fileName:t.fileName,fileExtension:t.fileExtension,fileContent:u,height:d,width:c};e(h)},r.onerror=i=>{console.warn("Failed to load picture ",t,i),e(null)}}))}}return null}))}onDidChangePicture(t){return n(this,void 0,void 0,(function*(){if(t)return $(".dropdown-menu").removeClass("show"),new Promise(((e,i)=>{var r;const s=null===(r=null==t?void 0:t.currentTarget)||void 0===r?void 0:r.files[0];if(s){const t=new FileReader;t.addEventListener("loadend",(t=>n(this,void 0,void 0,(function*(){var i;const n=null===(i=t.target.result)||void 0===i?void 0:i.toString();if($(".load-picture-form").trigger("reset"),n){const t=this.getCurrentPicture(),i={fileName:c.getFileName(s.name),fileExtension:c.getFileExtension(s.name),fileContent:n},r=yield this.loadPicture(i);e(r);const o={old:t,new:i};this.trigger(d.DidChangePicture,o)}else e(null)})))),t.readAsDataURL(s)}else e(null)}))}))}installHandlers(){}}e.BuilderView=u},93:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CentralView=e.DELAYED_TRIGGER_TIMEOUT=e.CentralViewEvents=e.MIN_HEIGHT=e.MIN_WIDTH=void 0;const r=i(845),s=i(210);e.MIN_WIDTH=800,e.MIN_HEIGHT=480,e.CentralViewEvents={DidShowView:"DidShowView",DidHideView:"DidHideView"};const o=`\n<div id="{{panelId}}" class="container-fluid tab-pane show no-gutters p-0 {{#if active}}active{{/if}}" aria-labelledby="{{controlledBy}}" style="position:relative; min-height:${e.MIN_HEIGHT}px;">\n    {{content}}\n</div>`;e.DELAYED_TRIGGER_TIMEOUT=2e3;class a extends r.View{constructor(t,e){var i,n;super(t),this.viewOptions=t,this.connection=e,this.viewId=(null===(i=t.viewId)||void 0===i?void 0:i.replace(/[\s\.]/g,"-"))||`view-${s.uuid()}`,this.panelId=(null===(n=null==t?void 0:t.panelId)||void 0===n?void 0:n.replace(/[\s\.]/g,"-"))||"",this.$headerDiv=$(null==t?void 0:t.headerDiv),this.$parentDiv=$(null==t?void 0:t.parentDiv)}resizeView(t){if(t){const e=t.width?parseFloat(`${t.width}`):0;e&&this.$el.css({width:e});const i=t.height?parseFloat(`${t.height}`):0;i&&this.$el.css({height:i})}}renderView(t){return n(this,void 0,void 0,(function*(){if(this.$headerDiv){const i=(null==t?void 0:t.label)||this.panelId,n=Handlebars.compile('\n<style>\n.nav-item {\n    z-index:1;\n    position:relative;\n}\n.nav-link {\n    white-space:nowrap;\n}\n.nav-link.active {\n    border-top: 1px solid !important;\n    border-left: 1px solid !important;\n    border-right: 1px solid !important;\n}\n</style>\n<li class="nav-item">\n<button draggable="false" class="nav-link {{#if active}}active{{/if}}" id="{{tabId}}" data-toggle="tab" href="#{{controls}}" role="tab" aria-controls="{{controls}}" aria-selected="true">{{label}}</button>\n</li>',{noEscape:!0})({tabId:`${this.viewId}-tab`,controls:this.panelId,label:i,active:null==t?void 0:t.active});this.$headerDiv.append(n),this.$headerTab=this.$headerDiv.find(`#${this.viewId}-tab`),this.$headerTab.on("click",(t=>{this.$headerTab.hasClass("active")||this.trigger(e.CentralViewEvents.DidShowView,{id:this.viewId})}))}if(!(null==t?void 0:t.externalPanel)){const e=Handlebars.compile(o,{noEscape:!0})({controlledBy:`${this.viewId}-tab`,panelId:this.panelId,content:null==t?void 0:t.content,active:null==t?void 0:t.active});this.$el.append(e)}return this}))}}e.CentralView=a},676:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SettingsView=e.basicSettings=e.printerSettings=e.functionSettings=e.fileSettings=e.SettingsEvents=void 0;const r=i(210),s=i(93);var o;!function(t){t.DidUpdateSettings="DidUpdateSettings"}(o=e.SettingsEvents||(e.SettingsEvents={}));const a='\n{{#each settings}}\n<div id="{{id}}" class="input-group input-group-sm mb-3">\n    <div class="input-group-prepend">\n    <span class="input-group-text" id="{{id}}-label" style="min-width:10em;">{{#if label}}{{label}}{{else}}{{id}}{{/if}}</span>\n    </div>\n    <input id="{{id}}-input" type="text" value="{{value}}" class="form-control" placeholder="{{placeholder}}" aria-label="{{#if label}}{{label}}{{else}}{{id}}{{/if}}" aria-describedby="{{id}}-label">\n</div>\n{{/each}}\n',l=`\n<div class="builder-settings container-fluid" style="padding-left:0;">\n    <div class="card">\n        <div class="card-header">Settings</div>\n        <div class="card-body settings">\n        ${a}\n        </div>\n    </div>\n</div>`;e.fileSettings=[{id:r.SettingsAttributes.mainFile,label:"Main File",value:"",placeholder:""},{id:r.SettingsAttributes.mainModule,label:"Main Function",value:"",placeholder:""},{id:r.SettingsAttributes.contextFolder,label:"Context Folder",value:"",placeholder:""}],e.functionSettings=[{id:r.SettingsAttributes.initFunction,label:"Init Function",value:"init",placeholder:""},{id:r.SettingsAttributes.tickFunction,label:"Tick Function (optional)",value:"",placeholder:""},{id:r.SettingsAttributes.tickFrequency,label:"Tick Frequency",value:"1000ms",placeholder:""}],e.printerSettings=[{id:r.SettingsAttributes.outputPrinter,label:"Output Printer (optional)",value:"",placeholder:""}],e.basicSettings=e.fileSettings.concat(e.functionSettings).concat(e.printerSettings);class c extends s.CentralView{constructor(t,e){super(t,e),this.timer=null,this.updateSettings(null==t?void 0:t.settings)}updateSettings(t){var e,i,n,r;if(this.settings={},null===(i=null===(e=this.viewOptions)||void 0===e?void 0:e.settings)||void 0===i?void 0:i.length)for(let t=0;t<(null===(n=this.viewOptions)||void 0===n?void 0:n.settings.length);t++){const e=null===(r=this.viewOptions)||void 0===r?void 0:r.settings[t],i=e.id;this.settings[i]=e}}renderView(){const t=Object.create(null,{renderView:{get:()=>super.renderView}});var i;return n(this,void 0,void 0,(function*(){const n=(null===(i=this.viewOptions)||void 0===i?void 0:i.settings)||e.basicSettings,r=Handlebars.compile(l,{noEscape:!0})({settings:n});return yield t.renderView.call(this,Object.assign(Object.assign({},this.viewOptions),{content:r,label:'<i class="fa fa-cogs"></i>'})),this.$settings=this.$el.find(".settings"),this.$settings.find("input").on("input",(t=>{this.delayedTrigger(o.DidUpdateSettings)})),this}))}delayedTrigger(t){clearTimeout(this.timer),this.timer=setTimeout((()=>{const t=this.getCurrentSettings();this.trigger(o.DidUpdateSettings,t)}),s.DELAYED_TRIGGER_TIMEOUT)}configure(t){if(t){const e=null==t?void 0:t.settings;this.updateSettings(e);const i=Handlebars.compile(a,{noEscape:!0})({settings:e});this.$settings.html(i)}}getValue(t){var e,i;return null===(i=null===(e=this.$settings)||void 0===e?void 0:e.find(`#${t} input`))||void 0===i?void 0:i.val()}getCurrentSettings(){const t={};for(let e in this.settings){const i=this.settings[e].id,n=this.getValue(i);void 0!==n&&(t[e]={id:i,value:n})}return t}events(){return{}}}e.SettingsView=c},248:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SideView=void 0;const n=i(845);class r extends n.View{hide(){this.$el.css({display:"none"})}reveal(){this.$el.css({display:"block"})}}e.SideView=r},347:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SimulatorView=e.SimulatorEvents=void 0;const r=i(210),s=i(93);var o;!function(t){t.DidRebootPrototype="DidRebootPrototype"}(o=e.SimulatorEvents||(e.SimulatorEvents={}));class a extends s.CentralView{constructor(t,e){super(t,e),this.simulatorId=r.uuid(),this.installHandlers()}importWidgets(t){this.widgets=t}renderWidgets(t,e){return n(this,void 0,void 0,(function*(){console.log("[simulator-view] renderWidgets",this.widgets);for(let i in this.widgets)this.widgets[i].render(t,e)}))}renderView(t){const e=Object.create(null,{renderView:{get:()=>super.renderView}});return n(this,void 0,void 0,(function*(){return yield e.renderView.call(this,Object.assign(Object.assign({},this.viewOptions),{content:""})),this}))}installHandlers(){$(document).find(".reboot-prototype-btn").on("click",(t=>n(this,void 0,void 0,(function*(){this.trigger(o.DidRebootPrototype)}))))}}e.SimulatorView=a},100:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetsListView=void 0;const n=i(403),r=i(248);class s extends r.SideView{constructor(t){super(t),this.render()}refresh(t){const e={};for(let i in t)e[i]={"widget-id":t[i].getId(),kind:t[i].getKind(),name:t[i].getName()};const i=Handlebars.compile('\n{{#each widgets}}\n<button type="button" class="btn-sm list-group-item list-group-item-action widget-list-item" widget-id="{{widget-id}}" widget-name="{{name}}">{{kind}}: {{name}}</button>\n{{/each}}\n',{noEscape:!0})({widgets:e});this.$el.html(i),this.$el.find(".widget-list-item").on("click",(t=>{const e=$(null==t?void 0:t.currentTarget).attr("widget-id");$(null==t?void 0:t.currentTarget).hasClass("active")?this.deselectWidget({id:e}):this.selectWidget({id:e})})),this.$el.find(".widget-list-item").on("dblclick",(t=>{const e=$(null==t?void 0:t.currentTarget).attr("widget-id");this.editWidget({id:e})}))}selectWidget(t){if(null==t?void 0:t.id){this.clearSelection(),this.$el.find(`[widget-id=${t.id}]`).addClass("active");const e={id:t.id};this.trigger(n.BuilderEvents.DidSelectWidget,e)}}deselectWidget(t){if(null==t?void 0:t.id){this.$el.find(`[widget-id=${t.id}]`).removeClass("active");const e={id:t.id};this.trigger(n.BuilderEvents.DidDeselectWidget,e)}}clearSelection(){this.$el.find(".widget-list-item").removeClass("active")}editWidget(t){if(t.id){this.$el.find(`[widget-id=${t.id}]`),this.selectWidget(t);const e={id:t.id};this.trigger(n.BuilderEvents.WillEditWidget,e)}}}e.WidgetsListView=s},998:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HotspotEditor=e.getMouseCoords=e.getCoords=e.opacity=e.zIndex=e.HotspotEditorEvents=void 0;const n=i(845),r=i(210);var s,o;e.HotspotEditorEvents={DidCreateHotspot:"DidCreateHotspot",DidSelectHotspot:"DidSelectHotspot",DidMoveHotspot:"DidMoveHotspot",DidResizeHotspot:"DidResizeHotspot",WillEditHotspot:"WillEditHotspot",DidCutHotspot:"DidCutHotspot",DidCopyHotspot:"DidCopyHotspot",DidPasteHotspot:"DidPasteHotspot",DidDeleteHotspot:"DidDeleteHotspot",DidClearSelection:"DidClearSelection"},function(t){t[t.BACK=100]="BACK",t[t.NORMAL=101]="NORMAL",t[t.FRONT=102]="FRONT"}(s=e.zIndex||(e.zIndex={})),function(t){t[t.LOW=.4]="LOW",t[t.NORMAL=.6]="NORMAL",t[t.HIGH=.9]="HIGH"}(o=e.opacity||(e.opacity={}));const a=`\n<div class="marker" coords=${JSON.stringify({top:0,left:0,width:0,height:0})} id="{{id}}" style="z-index:100; top:{{top}}px; left:{{left}}px; width:{{width}}px; height:{{height}}px; position:absolute;">\n    <div class="shader" style="z-index:100; width:100%; height:100%; opacity:${o.LOW}; background:steelblue; position:absolute; border: 1px solid blue; cursor:pointer;"></div>\n    <div class="tl corner" style="z-index:100; width:10px; height:10px; top:0px; left:0px; position:absolute; cursor:nwse-resize; margin-left:-7px; margin-top:-7px; border: 1px solid blue; opacity:${o.HIGH};"></div>\n    <div class="bl corner" style="z-index:100; width:10px; height:10px; top:100%; left:0px; position:absolute; cursor:nesw-resize; margin-left:-7px; margin-top:-3px; border: 1px solid blue; opacity:${o.HIGH};"></div>\n    <div class="br corner" style="z-index:100; width:10px; height:10px; top:100%; left:100%; position:absolute; cursor:nwse-resize; margin-left:-3px; margin-top:-3px; border: 1px solid blue; opacity:${o.HIGH};"></div>\n    <div class="tr corner" style="z-index:100; width:10px; height:10px; top:0px; left:100%; position:absolute; cursor:nesw-resize; margin-left:-3px; margin-top:-7px; border: 1px solid blue; opacity:${o.HIGH};"></div>\n    <div class="l corner" style="z-index:100; width:10px; height:10px; top:50%; left:0px; position:absolute; cursor:ew-resize; margin-left:-7px; margin-top:-5px; border: 1px solid blue; opacity:${o.HIGH};"></div>\n    <div class="r corner" style="z-index:100; width:10px; height:10px; top:50%; left:100%; position:absolute; cursor:ew-resize; margin-left:-3px; margin-top:-5px; border: 1px solid blue; opacity:${o.HIGH};"></div>\n    <div class="b corner" style="z-index:100; width:10px; height:10px; top:100%; left:50%; position:absolute; cursor:ns-resize; margin-left:-5px; margin-top:-2px; border: 1px solid blue; opacity:${o.HIGH};"></div>\n    <div class="t corner" style="z-index:100; width:10px; height:10px; top:0%; left:50%; position:absolute; cursor:ns-resize; margin-left:-5px; margin-top:-7px; border: 1px solid blue; opacity:${o.HIGH};"></div>\n</div>\n`;function l(t){return{top:+parseFloat(t.css("top")).toFixed(0),left:+parseFloat(t.css("left")).toFixed(0),width:+parseFloat(t.css("width")).toFixed(0),height:+parseFloat(t.css("height")).toFixed(0)}}function c(t,e){const i=e.offset(),n=+((null==t?void 0:t.pageY)-(null==i?void 0:i.top)).toFixed(0),r=+((null==t?void 0:t.pageX)-(null==i?void 0:i.left)).toFixed(0);return{top:n<0?0:n,left:r<0?0:r}}function d(t,e,i){const n=(i=i||{}).showSize?`(top:${e.top}, left:${e.left}, width:${e.width}, height:${e.height})`:`(top:${e.top}, left:${e.left})`;t.html(n)}e.getCoords=l,e.getMouseCoords=c;class u extends n.View{constructor(t,e){super({el:t[0]}),this.triggerEnabled=!0,this.$tooltip=null==e?void 0:e.$tooltip,this.$builderCoords=null==e?void 0:e.$builderCoords,this.triggerTimer=setInterval((()=>{this.triggerEnabled=!0}),1e3)}activate(t){return this.$marker=t.$activeMarker,this.$corner=t.$activeCorner,this.initialMarkerCoords=t.initialMarkerCoords,this.dragStartCoords=t.draftStartCoords,!0}deactivate(){this.$marker=null,this.$corner=null,this.initialMarkerCoords=null,this.dragStartCoords=null}onMouseDown(t){}onMouseMove(t){return!1}onMouseUp(t){}onResizeHotspot(t){const e=c(t,this.$el),i=e.left-this.dragStartCoords.left,n=e.top-this.dragStartCoords.top;this.$marker.find(".corner").css({display:"none"}),this.$corner.css("display","block");const r=this.$corner.hasClass("tl")?{left:this.initialMarkerCoords.left+i,top:this.initialMarkerCoords.top+n,width:this.initialMarkerCoords.width-i,height:this.initialMarkerCoords.height-n}:this.$corner.hasClass("bl")?{left:this.initialMarkerCoords.left+i,top:this.initialMarkerCoords.top,width:this.initialMarkerCoords.width-i,height:this.initialMarkerCoords.height+n}:this.$corner.hasClass("br")?{left:this.initialMarkerCoords.left,top:this.initialMarkerCoords.top,width:this.initialMarkerCoords.width+i,height:this.initialMarkerCoords.height+n}:this.$corner.hasClass("tr")?{left:this.initialMarkerCoords.left,top:this.initialMarkerCoords.top+n,width:this.initialMarkerCoords.width+i,height:this.initialMarkerCoords.height-n}:this.$corner.hasClass("l")?{left:this.initialMarkerCoords.left+i,top:this.initialMarkerCoords.top,width:this.initialMarkerCoords.width-i,height:this.initialMarkerCoords.height}:this.$corner.hasClass("r")?{left:this.initialMarkerCoords.left,top:this.initialMarkerCoords.top,width:this.initialMarkerCoords.width+i,height:this.initialMarkerCoords.height}:this.$corner.hasClass("b")?{left:this.initialMarkerCoords.left,top:this.initialMarkerCoords.top,width:this.initialMarkerCoords.width,height:this.initialMarkerCoords.height+n}:this.$corner.hasClass("t")?{left:this.initialMarkerCoords.left,top:this.initialMarkerCoords.top+n,width:this.initialMarkerCoords.width,height:this.initialMarkerCoords.height-n}:this.initialMarkerCoords;return this.resizeHotspot(r),r}resizeHotspot(t,e){if(t){const i={};t.left&&(i.left=`${parseFloat(`${t.left}`)}px`),t.top&&(i.top=`${parseFloat(`${t.top}`)}px`),t.width&&(i.width=`${parseFloat(`${t.width}`)}px`),t.height&&(i.height=`${parseFloat(`${t.height}`)}px`),((null==e?void 0:e.$activeMarker)||this.$marker).css(i)}}hideTooltip(){this.$tooltip.css({display:"none"})}showCoords(t,e){d(this.$builderCoords,t,e)}}class h extends u{onMouseDown(t){this.dragStartCoords=c(t,this.$el),this.initialMarkerCoords=l(this.$marker)}onMouseMove(t){if(this.dragStartCoords){const i=this.onResizeHotspot(t),n={id:this.$marker.attr("id"),coords:i};this.trigger(e.HotspotEditorEvents.DidResizeHotspot,n);const r=c(t,this.$el);return this.showCoords(Object.assign(Object.assign({},r),{width:+i.width.toFixed(0),height:+i.height.toFixed(0)}),{showSize:!0}),!0}return!1}onMouseUp(t){if(this.dragStartCoords){const i=this.onResizeHotspot(t);this.dragStartCoords=null,this.$marker.attr("coords",JSON.stringify(i)),this.$marker.find(".shader").css({cursor:"pointer"});const n={id:this.$marker.attr("id"),coords:i};this.trigger(e.HotspotEditorEvents.DidResizeHotspot,n)}this.$marker.find(".corner").css({display:"block"}),this.hideTooltip()}}class p extends u{onMouseDown(t){this.dragStartCoords=c(t,this.$el),this.initialMarkerCoords=l(this.$marker),this.$marker.find(".shader").css({cursor:"move"})}onMouseMove(t){if(this.dragStartCoords){const i=c(t,this.$el),n={left:i.left-this.dragStartCoords.left,top:i.top-this.dragStartCoords.top};this.$marker.css({left:this.initialMarkerCoords.left+n.left,top:this.initialMarkerCoords.top+n.top});const r={left:parseFloat(this.$marker.css("left")),top:parseFloat(this.$marker.css("top"))},s={id:this.$marker.attr("id"),coords:r};return this.trigger(e.HotspotEditorEvents.DidMoveHotspot,s),!0}return!1}onMouseUp(t){if(this.dragStartCoords){const i=c(t,this.$el),n={left:i.left-this.dragStartCoords.left,top:i.top-this.dragStartCoords.top};this.dragStartCoords=null;const r=this.$marker.attr("id");this.$marker.find(".shader").css({cursor:"pointer"}),this.$marker.css({left:this.initialMarkerCoords.left+n.left,top:this.initialMarkerCoords.top+n.top});const s={left:+parseFloat(this.$marker.css("left")).toFixed(0),top:+parseFloat(this.$marker.css("top")).toFixed(0),width:+parseFloat(this.$marker.css("width")).toFixed(0),height:+parseFloat(this.$marker.css("height")).toFixed(0)},o={id:r,coords:s};0===n.left&&0===n.top?this.trigger(e.HotspotEditorEvents.DidSelectHotspot,o):(this.$marker.attr("coords",JSON.stringify(s)),this.trigger(e.HotspotEditorEvents.DidMoveHotspot,o))}}}class f extends n.View{constructor(t){super(t),this.mode=null,this.dblClick=0,this.hotspots={},this.data=t}renderView(){this.$overlay=$(this.data.overlay),this.createHtmlContent(this.data),this.$tooltip=this.$overlay.find(".marker-tooltip"),this.$builderCoords=$(this.data.builderCoords),this.moveHandler=new p(this.$el,{$tooltip:this.$tooltip,$builderCoords:this.$builderCoords}),this.resizeHandler=new h(this.$el,{$tooltip:this.$tooltip,$builderCoords:this.$builderCoords}),this.moveHandler.on(e.HotspotEditorEvents.DidMoveHotspot,(t=>{this.selectHotspot(t),this.trigger(e.HotspotEditorEvents.DidSelectHotspot,t),this.trigger(e.HotspotEditorEvents.DidMoveHotspot,t)})),this.moveHandler.on(e.HotspotEditorEvents.DidSelectHotspot,(t=>{this.selectHotspot(t),this.trigger(e.HotspotEditorEvents.DidSelectHotspot,t)})),this.resizeHandler.on(e.HotspotEditorEvents.DidResizeHotspot,(t=>{this.selectHotspot(t),this.trigger(e.HotspotEditorEvents.DidSelectHotspot,t),this.trigger(e.HotspotEditorEvents.DidResizeHotspot,t)})),$(window).on("keydown",(t=>{this.onKeyDown(t)}))}getHotspots(){return this.hotspots}getHotspot(t){var e;return null===(e=this.hotspots[t])||void 0===e?void 0:e.$marker}getSelectedHotspot(){const t=this.$overlay.find(".marker.selected").attr("id");return this.getHotspot(t)}getCoords(t){var e;const i=(null===(e=this.hotspots[t])||void 0===e?void 0:e.$marker.attr("coords"))||null;return JSON.parse(i)}createHtmlContent(t){t=t||this.data;const e=Handlebars.compile('\n<style>\n.marker.selected {\n    border: 2px solid yellow;\n    margin-top: 1px;\n    margin-left: 1px;\n}\n</style>\n<div class="marker-tooltip noselect" style="display:none; z-index:100; position:absolute; background-color:white; color:black; opacity:0.8; padding:2px 8px; border-radius:8px;">\n    <div class="marker-tooltip-label" style="display:block; z-index:100;"></div>\n</div>\n<div class="marker-areas" style="position:absolute; top:0px; left:0px; display:block; z-index:100; opacity:0.9; background-color:green;"></div>\n')({}),i=(null==t?void 0:t.overlay)||$("body")[0];return $(i).append(e),this.$el.attr("draggable","false"),this.$el.on("contextmenu",(t=>{var e,i,n;const r=c(t,$("body")),s=c(t,this.$el);s.height=parseFloat(`${null===(e=this.clipboard)||void 0===e?void 0:e.coords.height}`),s.width=parseFloat(`${null===(i=this.clipboard)||void 0===i?void 0:i.coords.width}`);const o={id:null===(n=this.clipboard)||void 0===n?void 0:n.id,coords:s};this.openContextMenu(r,o,{edit:!1,delete:!1,cut:!1,copy:!1}),t.preventDefault()})),this}getMarkersLayer(){return this.$overlay.find(".marker-areas")}events(){return{mouseover:"onMouseOver",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseout:"onMouseOut",mouseup:"onMouseUp",scroll:"onScroll"}}showCoords(t,e){d(this.$builderCoords,t,e)}mouseEventHandler(t){var e,i,n,s,o,l;const d=c(t,this.$el);this.anchorCoords=this.anchorCoords||d;const u=Math.abs((null===(e=this.anchorCoords)||void 0===e?void 0:e.left)-(null==d?void 0:d.left)),h=Math.abs((null===(i=this.anchorCoords)||void 0===i?void 0:i.top)-(null==d?void 0:d.top));if(!this.$marker){const t=`hotspot_${r.uuid()}`,e=Handlebars.compile(a)({id:t,top:d.top,left:d.left,width:u,height:h});this.getMarkersLayer().append(e),this.$marker=this.getMarkersLayer().find(`#${t}`),null===(n=this.$marker)||void 0===n||n.find(".shader").on("mousemove",(t=>{this.onMouseMove(t)})),null===(s=this.$marker)||void 0===s||s.find(".shader").on("mouseup",(t=>{this.onMouseUp(t)}))}this.$marker.css({width:u,height:h}),this.$marker.find(".corner").css({display:"none"}),(null==d?void 0:d.left)<(null===(o=this.anchorCoords)||void 0===o?void 0:o.left)&&this.$marker.css({left:d.left}),(null==d?void 0:d.top)<(null===(l=this.anchorCoords)||void 0===l?void 0:l.top)&&this.$marker.css({top:d.top}),this.showCoords(Object.assign(Object.assign({},d),{width:+u.toFixed(0),height:+h.toFixed(0)}),{showSize:!0})}showTooltip(t,e){this.$tooltip.css({display:"block",top:`${t.top+20}px`,left:`${t.left+20}px`,background:"black",color:"white"}),this.$tooltip.find(".marker-tooltip-label").html(e)}hideTooltip(){this.$tooltip.css({display:"none"})}onKeyDown(t){var e;switch(t.key){case"Escape":switch(this.closeContextMenu(),this.mode){case"move":case"resize":break;default:null===(e=this.$marker)||void 0===e||e.remove(),this.$marker=null,this.anchorCoords=null,this.hideTooltip()}this.mode=null,this.showCorners()}}showCorners(){var t;null===(t=this.$overlay)||void 0===t||t.find(".corner").css({display:"block"})}hideCorners(){var t;null===(t=this.$overlay)||void 0===t||t.find(".corner").css({display:"none"})}onScroll(t){t.preventDefault()}onMouseOut(t){t.preventDefault(),this.hideTooltip()}onMouseOver(t){switch(this.mode){case"move":case"resize":break;default:if(this.anchorCoords)this.mouseEventHandler(t);else{const e=c(t,this.$el);this.showCoords(e)}}}isDoubleClick(){return this.dblClick++,setTimeout((()=>{this.dblClick=0}),r.DBLCLICK_TIMEOUT),this.dblClick>1}closeContextMenu(){r.deleteContextMenu()}openContextMenu(t,i,n){n=Object.assign({edit:!!(null==i?void 0:i.id),cut:!!(null==i?void 0:i.id),copy:!!(null==i?void 0:i.id),paste:!!this.clipboard,delete:!!(null==i?void 0:i.id)},n);const s=r.createMenu({top:+parseFloat(`${t.top}`),left:+parseFloat(`${t.left}`),items:[{name:"Edit",disabled:!n.edit,icon:`<i class="fa fa-edit" style="${n.edit?`color:${r.colors.blue};`:""}padding-right:20px;"></i>`},"------",{name:"Cut",disabled:!n.cut,icon:`<i class="fa fa-cut" style="${n.cut?`color:${r.colors.blue};`:""}padding-right:20px;"></i>`},{name:"Copy",disabled:!n.copy,icon:`<i class="fa fa-copy" style="${n.copy?`color:${r.colors.blue};`:""}padding-right:20px;"></i>`},{name:"Paste",disabled:!n.paste,icon:`<i class="fa fa-paste" style="${n.paste?`color:${r.colors.blue};`:""}padding-right:20px;"></i>`},"------",{name:"Delete",disabled:!n.delete,icon:`<i class="fa fa-trash" style="${n.delete?`color:${r.colors.blue};`:""}padding-right:20px;"></i>`}]}).find(".dropdown-item");for(let t=0;t<s.length;t++)$(s[t]).on("click",(t=>{jQuery(null==t?void 0:t.currentTarget).addClass("active");const n=jQuery(null==t?void 0:t.currentTarget).attr("action"),r=null==i?void 0:i.id;let s=this.getCoords(r);switch(n){case"Edit":this.trigger(e.HotspotEditorEvents.WillEditHotspot,{id:r,coords:s});break;case"Cut":this.cutHotspot({id:r,coords:s}),this.trigger(e.HotspotEditorEvents.DidCutHotspot,{id:r,coords:s});break;case"Copy":this.copyHotspot({id:r,coords:s}),this.trigger(e.HotspotEditorEvents.DidCopyHotspot,{id:r,coords:s});break;case"Paste":{const t=this.pasteHotspot(i);this.trigger(e.HotspotEditorEvents.DidPasteHotspot,{origin:i,clone:t});break}case"Delete":this.deleteHotspot({id:r}),this.trigger(e.HotspotEditorEvents.DidDeleteHotspot,{id:r,coords:s})}this.closeContextMenu()}))}createHotspot(t,i){const n=(null==i?void 0:i.useFreshId)?`hotspot_${r.uuid()}`:null==t?void 0:t.id,o=Object.assign(Object.assign({},t),{id:n});let l=this.getMarkersLayer().find(`#${n}`)||this.$marker;if(!l[0]){const t=Handlebars.compile(a)({id:n});this.getMarkersLayer().append(t),l=this.getMarkersLayer().find(`#${n}`),this.resizeHandler.resizeHotspot(o.coords,{$activeMarker:l})}l.attr("coords",JSON.stringify(o.coords));const d=l.find(".shader"),u=[l.find(".tl"),l.find(".bl"),l.find(".br"),l.find(".tr"),l.find(".l"),l.find(".r"),l.find(".b"),l.find(".t")];l.find(".corner").css({display:"block"}),l.css("z-index",s.FRONT),d.on("mouseover",(t=>{null===this.mode&&this.highlightHotspot({id:n})})).on("mouseout",(t=>{null===this.mode&&this.clearHighlight()})).on("mousedown",(t=>{if(this.closeContextMenu(),null===this.mode)switch(t.button){case r.mouseButtons.middle:case r.mouseButtons.right:break;case r.mouseButtons.left:default:this.mode="move",this.moveHandler.activate({$activeMarker:l}),this.moveHandler.onMouseDown(t)}})).on("mousemove",(t=>{const e=c(t,this.$el);switch(this.mode){case"move":this.showCoords(e),this.moveHandler.onMouseMove(t);break;case"resize":this.showCoords(e),this.resizeHandler.onMouseMove(t)}})).on("mouseup",(t=>{if(this.isDoubleClick()){const t=l.attr("id"),i={id:t,coords:this.getCoords(t)};this.trigger(e.HotspotEditorEvents.WillEditHotspot,i)}else switch(this.mode){case"move":{const e=c(t,this.$el);this.showCoords(e),this.moveHandler.onMouseUp(t);break}case"resize":{const e=c(t,this.$el);this.showCoords(e),this.resizeHandler.onMouseUp(t);break}}this.mode=null})).on("contextmenu",(t=>{const e=c(t,$("body"));this.openContextMenu(e,o),t.preventDefault()}));for(let t in u){const e=u[t];e.on("mouseover",(t=>{null===this.mode&&this.highlightHotspot({id:n})})).on("mouseout",(t=>{null===this.mode&&this.clearHighlight()})).on("mousedown",(t=>{this.closeContextMenu(),null===this.mode&&(this.mode="resize",this.resizeHandler.activate({$activeMarker:l,$activeCorner:e}),this.resizeHandler.onMouseDown(t),this.selectHotspot({id:n}))})).on("mousemove",(t=>{const e=c(t,this.$el);switch(this.mode){case"move":this.showCoords(e),this.moveHandler.onMouseMove(t);break;case"resize":this.showCoords(e),this.resizeHandler.onMouseMove(t)}})).on("mouseup",(t=>{switch(this.mode){case"move":{const e=c(t,this.$el);this.showCoords(e),this.moveHandler.onMouseUp(t);break}case"resize":{const e=c(t,this.$el);this.showCoords(e),this.resizeHandler.onMouseUp(t);break}}this.resizeHandler.deactivate(),this.mode=null;const e=c(t,this.$el);this.showCoords(e)}))}return this.hotspots[n]={$marker:l},o}onMouseUp(t){switch(this.mode){case"move":this.moveHandler.onMouseUp(t);break;case"resize":this.resizeHandler.onMouseUp(t);break;case"create":default:if(this.$marker){const i=parseFloat(this.$marker.css("width")),n=parseFloat(this.$marker.css("height"));if(n<f.MIN_HEIGHT&&i<f.MIN_WIDTH)this.$marker.remove();else{const r=this.$marker.attr("id"),s=c(t,this.$el),o={id:r,coords:{top:this.anchorCoords.top<s.top?this.anchorCoords.top:s.top,left:this.anchorCoords.left<s.left?this.anchorCoords.left:s.left,width:i,height:n}};this.createHotspot(o),this.trigger(e.HotspotEditorEvents.DidCreateHotspot,o)}this.$marker=null}this.anchorCoords=null,this.mode=null}}onMouseDown(t){switch(this.closeContextMenu(),this.mode){case"move":this.moveHandler.onMouseDown(t);break;case"resize":this.resizeHandler.onMouseDown(t);break;default:t.button===r.mouseButtons.right||this.mouseEventHandler(t)}}onMouseMove(t){switch(t.preventDefault(),this.mode){case"move":this.moveHandler.onMouseMove(t)||(this.mode=null);break;case"resize":this.resizeHandler.onMouseMove(t)||(this.mode=null);break;default:if(this.anchorCoords)this.mouseEventHandler(t);else{const e=c(t,this.$el);this.showCoords(e)}}}selectHotspot(t){(null==t?void 0:t.id)&&(this.clearSelection(),this.$overlay.find(`#${t.id}`).addClass("selected"),this.highlightHotspot(t))}deselectHotspot(t){(null==t?void 0:t.id)&&(this.$overlay.find(`#${t.id}`).removeClass("selected"),this.highlightHotspot(t))}clearSelection(){this.clearHighlight(),this.$overlay.find(".marker").removeClass("selected"),this.trigger(e.HotspotEditorEvents.DidClearSelection)}highlightHotspot(t){if(null==t?void 0:t.id){const e=this.$overlay.find(`#${t.id}`),i=e.hasClass("selected")?"yellow":"gray";this.clearHighlight(),e.css("z-index",s.FRONT),e.find(".shader").css({border:`1px solid ${i}`}),e.find(".corner").css({border:`1px solid ${r.colors.blue}`}),e.css({"box-shadow":`${i} 0px 0px 8px`})}}clearHighlight(){$(".marker").css({"z-index":s.NORMAL}),this.$overlay.find(".shader").css({border:"1px solid gray"}),this.$overlay.find(".corner").css({border:"1px solid gray"}),this.$overlay.find(".marker").css({"box-shadow":`${r.colors.blue} 0px 0px 0px`}),this.$overlay.find(".marker.selected .shader").css({border:`1px solid ${r.colors.blue}`}),this.$overlay.find(".marker.selected .corner").css({border:`1px solid ${r.colors.blue}`}),this.$overlay.find(".marker.selected").css({"box-shadow":`${r.colors.blue} 0px 0px 8px`})}copyHotspot(t){t&&(this.clipboard=t)}cutHotspot(t){t&&(this.clipboard=t,this.deleteHotspot(t))}pasteHotspot(t){return this.createHotspot(t,{useFreshId:!0})}deleteHotspot(t){(null==t?void 0:t.id)&&this.$overlay.find(`#${t.id}`).remove()}}e.HotspotEditor=f,f.MIN_WIDTH=10,f.MIN_HEIGHT=10},946:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetEditor=e.WidgetEditorEvents=void 0;const n=i(845),r=i(210),s=i(717);e.WidgetEditorEvents={ok:"ok",cancel:"cancel"};class o extends n.View{constructor(t){super(t),this.editorId=r.uuid(),this.widgetData=null==t?void 0:t.widgetData,this.widgetClassMap=(null==t?void 0:t.widgetClassMap)||{},this.mode="create"}renderView(){this.createHtmlContent(),this.installHandlers()}safeString(t){return(null==t?void 0:t.replace(/[\.\s]/g,"-"))||""}selectTab(t){return!(!t||!t.kind||($(".widget-class").removeClass("active"),$(`#${t.kind}-tab`).addClass("active"),$(".widget-info").removeClass("active show"),$(`#${t.kind}`).addClass("active show"),t.cons&&$(`#${t.kind}-carousel .carousel-indicators li[cons='${t.cons}']`).trigger("click"),0))}createHtmlContent(){var t,e,i,n,o,a,l,c;const d={editorId:this.editorId,widgets:this.widgetClassMap,id:null===(t=this.widgetData)||void 0===t?void 0:t.id,coords:null===(e=this.widgetData)||void 0===e?void 0:e.coords},u=Handlebars.compile('\n<style>\n.widget-class {\n    white-space:nowrap;\n}\n.spinner-left {\n    position:absolute;\n    left:-160px; \n    background:gainsboro; \n    border-radius:4px; \n    padding-bottom:22px;\n    width:140px;\n}\n</style>\n<div id="editorId" class="card">\n    <div class="card-header spinner-left px-1">\n        <ul class="nav flex-column flex-nowrap nav-pills card-header-tabs widget-list" style="overflow-y:auto; overflow-x:hidden; max-height:408px;">\n            {{#each widgets as |item kind|}}\n            <li class="nav-item">\n                <a draggable="false" kind="{{kind}}" class="widget-class nav-link{{#if @first}} active{{/if}}" id="{{@key}}-tab" data-toggle="tab" href="#{{@key}}" role="tab" aria-controls="{{@key}}" aria-selected="true">{{@key}}</a>\n            </li>\n            {{/each}}\n        </ul>\n    </div>\n    <style>\n    .carousel-indicators li {\n        background-color: #999;\n        background-color: rgba(70, 70, 70, 0.25);\n    }\n    .carousel-indicators .active {\n        background-color: #444;\n    }\n    .carousel-indicators {\n        position: relative;\n        min-width:290px;\n    }\n    .carousel-inner {\n        min-width: 362px;\n        margin: 20px 0;\n    }\n    .widget-attributes {\n        min-width: 362px;\n    }\n    .widget-editor-card {\n        height:400px;\n        padding-top:0px;\n        overflow:auto;\n    }\n    .widget-info {\n        position:relative;\n        overflow:auto;\n    }\n    </style>\n    <div class="widget-editor-card card-body tab-content">\n        {{#each widgets as |item kind|}}\n        <div id="{{kind}}" class="widget-info p-0 modal-body container-fluid tab-pane fade show no-gutters{{#if @first}} active{{/if}}" aria-labelledby="{{kind}}-tab">\n            <div class="row">\n                <div id="{{kind}}-carousel" class="carousel slide col-md-6" data-interval="false">\n                    \x3c!-- carousel indicators --\x3e\n                    <ol class="carousel-indicators mx-0">\n                        {{#each this}}\n                        <li data-target="#{{kind}}-carousel" kind="{{kind}}" cons="{{cons.constructorName}}" data-slide-to="{{@index}}" {{#if @first}}class="active"{{/if}}></li>\n                        {{/each}}\n                    </ol>\n                    <div class="carousel-inner">\n                        \x3c!-- carouse screen shows available widgets --\x3e\n                        {{#each this}}\n                        <div class="carousel-item {{#if @first}}active{{/if}}">\n                            <div style="width:60%; margin-left:20%;">\n                                <div id="{{cons.constructorName}}-preview" class="widget-preview" style="min-width:200px; height:31px; position:relative; box-shadow:0px 0px 10px #666;">\n                                \x3c!-- {{cons.constructorName}}-preview --\x3e\n                                </div>\n                                <div id="{{cons.constructorName}}-evts" class="text-muted" style="min-width:200px; height:60px; overflow:auto; margin-top:8px;">\n                                \x3c!-- {{cons.constructorName}}-events --\x3e\n                                </div>\n                                <h5>{{this.label}}</h5>\n                                <small id="{{cons.constructorName}}-desc" class="text-muted carousel-description">\n                                \x3c!-- {{cons.constructorName}}-description --\x3e\n                                </small>\n                            </div>\n                        </div>\n                        {{/each}}\n                        \x3c!-- carousel controls --\x3e\n                        <div class="btn btn-dark carousel-control carousel-control-prev" kind="{{kind}}" href="#{{kind}}-carousel" role="button" data-slide="prev" style="height:31px">\n                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>\n                            <span class="sr-only">Previous</span>\n                        </div>\n                        <div class="btn btn-dark carousel-control carousel-control-next" kind="{{kind}}" href="#{{kind}}-carousel" role="button" data-slide="next" style="height:31px">\n                            <span class="carousel-control-next-icon" aria-hidden="true"></span>\n                            <span class="sr-only">Next</span>\n                        </div>\n                    </div>\n                </div>\n\n                {{#each this}}\n                <div id="{{kind}}-{{cons.constructorName}}" class="widget-attributes col-md-6 ml-auto" style="height:400px; overflow:auto; display:{{#if @first}}block{{else}}none{{/if}};">\n                    <div class="widget-id input-group input-group-sm" style="display:none;">\n                        <div class="input-group-prepend" style="min-width:40%;">\n                            <span class="input-group-text" style="width:100%;">ID</span>\n                        </div>\n                        <input type="text" class="form-control" value="{{../../id}}" placeholder="{{../../id}}" aria-label="{{../../id}}" aria-describedby="{{cons.constructorName}}-id">\n                        <br>\n                    </div>\n                    \n                    <div id="{{cons.constructorName}}-attr" class="widget-attr">\n                    \x3c!-- {{cons.constructorName}}-attributes --\x3e\n                    </div>\n                    \n                    <div id="{{cons.constructorName}}-coords" class="widget-coords" style="display:none;">\n                        <br>\n                        {{#each ../../coords}}\n                        <div class="input-group input-group-sm">\n                            <div class="input-group-prepend" style="min-width:40%;">\n                                <span class="input-group-text" id="{{@key}}-label" style="width:100%;">{{@key}}</span>\n                            </div>\n                            <input type="text" class="form-control" name="{{@key}}" value="{{this}}px" placeholder="{{this}}px" aria-label="{{this}}" aria-describedby="{{@key}}-label">\n                        </div>\n                        {{/each}}\n                    </div>\n                    <br>\n                    <div id="{{cons.constructorName}}-viz" class="widget-viz"></div>\n                    <br>\n                    <div id="{{cons.constructorName}}-css" class="widget-css"></div>\n                </div>\n                {{/each}}\n            </div>\n        </div>\n        {{/each}}\n    </div>\n</div>')(d);this.$dialog=r.createDialog({content:u,largeModal:!0}),r.setDialogTitle("Widget Editor");const h=+parseFloat($(".widget-preview").css("width")).toFixed(0),p=+parseFloat($(".widget-preview").css("height")).toFixed(0);for(let t in this.widgetClassMap){const e=this.widgetClassMap[t];for(let t=0;t<e.length;t++)if(console.log("[widget-editor] loading widget",null===(i=e[t].cons)||void 0===i?void 0:i.constructorName,null===(n=e[t].cons)||void 0===n?void 0:n.constructorName),null===(o=e[t].cons)||void 0===o?void 0:o.constructorName){const i=e[t].cons.constructorName,n={width:h,height:p},r=s.WidgetEVO.uuid(),o=Object.assign(Object.assign({},null===(a=this.widgetData)||void 0===a?void 0:a.opt),{parent:`${i}-preview`}),l=new e[t].cons(r,n,o);l.setName(this.widgetData.name);const c=l.getCSS({all:!0}),d=Handlebars.compile('\n{{#each style}}\n<div class="input-group input-group-sm">\n    <div class="input-group-prepend" style="min-width:40%;">\n        <span class="input-group-text" id="{{@key}}-label" style="width:100%;">{{@key}}</span>\n    </div>\n    <input type="text" class="form-control" name="{{@key}}" value="{{this}}" placeholder="{{this}}" aria-label="{{this}}" aria-describedby="{{@key}}-label">\n</div>\n{{/each}}')({style:c});$(`#${i}-css`).html(d),$(`#${i}-css input`).on("input",(t=>{var e,i;const n=null===(e=t.currentTarget)||void 0===e?void 0:e.name;if(n){const e=null===(i=t.currentTarget)||void 0===i?void 0:i.value;this.updateInput(n,e);const r={};r[n]=e,l.setCSS(r),l.renderSample()}}));let u=l.getViz();const f=Handlebars.compile('\n{{#each viz}}\n<div class="input-group input-group-sm">\n    <div class="input-group-prepend" style="min-width:40%;">\n        <span class="input-group-text" id="{{@key}}-when" style="width:100%;">{{@key}} when...</span>\n    </div>\n    <input type="text" class="form-control" name="{{@key}}" value="{{this}}" placeholder="{{this}}" aria-label="{{this}}" aria-describedby="{{@key}}-when">\n</div>\n{{/each}}')({viz:u});$(`#${i}-viz`).html(f);const g=Handlebars.compile('\n{{#each attr}}\n<div class="input-group input-group-sm">\n    <div class="input-group-prepend" style="min-width:40%;">\n        <span class="input-group-text" id="{{@key}}-attr" style="width:100%;">{{@key}}</span>\n    </div>\n    <input type="text" class="form-control" name="{{@key}}" value="{{this}}" placeholder="{{this}}" aria-label="{{this}}" aria-describedby="{{@key}}-attr">\n</div>\n{{/each}}')({attr:l.getAttributes({nameReplace:this.widgetData.id,keyCode:!1})});$(`#${i}-attr`).html(g),$(`#${i}-attr input`).on("input",(t=>{var e,i;const n=null===(e=t.currentTarget)||void 0===e?void 0:e.value,r=null===(i=t.currentTarget)||void 0===i?void 0:i.name;let s={};r&&(this.updateInput(r,n),"keyCode"!==r&&(s[r]=n,l.setAttr(s),l.renderSample()))}));const v=l.getEvents();for(let t=0;t<(null==v?void 0:v.length);t++){const e=v[t];this.listenTo(l,e,(t=>{const e=null==t?void 0:t.fun.replace(r,this.widgetData.id);$(`#${i}-evts`).append(`<div><i class="fa fa-bolt"></i> ${e}</div>`),clearTimeout(this.timer),this.timer=setTimeout((()=>{$(`#${i}-evts`).html(""),this.timer=null}),1200)}))}$(`#${i}-desc`).html(l.getDescription()),l.renderSample()}}return $(".carousel-control").on("click",(t=>{var e,i,n,r,s,o,a;const l=$(t.currentTarget).attr("kind");if(l){const c=$(`#${l}-carousel li.active`).attr("data-slide-to");if(c&&+c<(null===(e=this.widgetClassMap[l])||void 0===e?void 0:e.length)){const e=+c,d=$(null==t?void 0:t.currentTarget).hasClass("carousel-control-next")?(e+1)%(null===(i=this.widgetClassMap[l])||void 0===i?void 0:i.length):Math.abs((e-1)%(null===(n=this.widgetClassMap[l])||void 0===n?void 0:n.length)),u=null===(s=null===(r=this.widgetClassMap[l][e])||void 0===r?void 0:r.cons)||void 0===s?void 0:s.constructorName,h=null===(a=null===(o=this.widgetClassMap[l][d])||void 0===o?void 0:o.cons)||void 0===a?void 0:a.constructorName;$(`#${l}-${u}`).css({display:"none"}),$(`#${l}-${h}`).css({display:"block"})}}else console.warn("[widget-editor] Warning: carousel control disconnected",null==t?void 0:t.currentTarget)})),$(".carousel-indicators li").on("click",(t=>{var e,i,n,r,s,o;const a=$(t.currentTarget).attr("kind");if(a){const l=$(`#${a}-carousel li.active`).attr("data-slide-to"),c=$(t.currentTarget).attr("data-slide-to");if(l&&c&&+l<(null===(e=this.widgetClassMap[a])||void 0===e?void 0:e.length)&&+c<(null===(i=this.widgetClassMap[a])||void 0===i?void 0:i.length)){const t=+l,e=+c,i=null===(r=null===(n=this.widgetClassMap[a][t])||void 0===n?void 0:n.cons)||void 0===r?void 0:r.constructorName,d=null===(o=null===(s=this.widgetClassMap[a][e])||void 0===s?void 0:s.cons)||void 0===o?void 0:o.constructorName;$(`#${a}-${i}`).css({display:"none"}),$(`#${a}-${d}`).css({display:"block"})}}else console.warn("[widget-editor] Warning: carousel control disconnected",null==t?void 0:t.currentTarget)})),this.selectTab({kind:null===(l=this.widgetData)||void 0===l?void 0:l.kind,cons:null===(c=this.widgetData)||void 0===c?void 0:c.cons}),this}setWidgetId(t){this.widgetData.id=t,this.$dialog.find(".widget-id input").val(t),this.updateDialogTitle()}updateDialogTitle(){r.setDialogTitle("Editing "+this.widgetData.id)}updateInput(t,e){t&&this.$dialog.find(`input[name=${t}]`).attr("value",e)}getDialogElement(t){const e=this.$dialog.find(`.active .widget-${t} input`);let i={};for(let t=0;t<e.length;t++){const n=e[t].getAttribute("name");if(n){const r=e[t].getAttribute("value");i[n]=r}}return i}getCurrentCoords(){const t=this.getDialogElement("coords"),e={};for(let i in t)e[i]=parseFloat(t[i]);return e}getCurrentWidgetKind(){return this.$dialog.find(".widget-class.active").attr("kind")}getCurrentCSS(){return this.getDialogElement("css")}getCurrentAttr(){return this.getDialogElement("attr")}getCurrentViz(){return this.getDialogElement("viz")}getCurrentWidgetId(){return this.$dialog.find(".widget-id input").attr("value")}getCurrentWidgetCons(){const t=this.getCurrentWidgetKind();return $(`#${t}-carousel`).find(".carousel-indicators li.active").attr("cons")}getCurrentWidgetName(){const t=this.getCurrentAttr(),e=Object.keys(t);return e&&e.length?t[e[0]]:""}installHandlers(){this.$dialog.find(".ok-btn").on("click",(t=>{this.widgetData={cons:this.getCurrentWidgetCons(),name:this.getCurrentWidgetName(),kind:this.getCurrentWidgetKind(),id:this.getCurrentWidgetId(),coords:this.getCurrentCoords(),opt:Object.assign({css:this.getCurrentCSS(),viz:this.getCurrentViz()},this.getCurrentAttr())},this.trigger(e.WidgetEditorEvents.ok,this.widgetData),this.$dialog.remove()})),this.$dialog.find(".cancel-btn").on("click",(t=>{this.trigger(e.WidgetEditorEvents.cancel,this.widgetData),this.$dialog.remove()})),this.$dialog.find(".widget-id").on("input",(t=>{var e;const i=null===(e=t.currentTarget)||void 0===e?void 0:e.value;this.setWidgetId(i)}))}}e.WidgetEditor=o},647:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicDisplayEVO=void 0;const n=i(717);class r extends n.WidgetEVO{constructor(t,e,i){super(t,e,i),this.kind="Display",(i=i||{}).css=i.css||{},this.css["background-color"]=i.css["background-color"]||"black",this.css.color=i.css.color||"white",this.css.cursor=i.css.cursor||"default",this.css.overflow=i.css.overflow||"hidden",this.attr.displayName=i.displayName||t}getConstructorName(){return r.constructorName}render(t,e){if(e=e||{},console.log("[BasicDisplay] rendering state",t),super.render(),this.updateDisplayStyle(e),this.reveal(),t)if(this.matchStateFlag){if("string"==typeof t){const e=this.matchState(t);e&&this.$base.html(`${e.val}`)}}else this.$base.html(`${t}`)}updateDisplayStyle(t){t=t||{},this.setCSS(Object.assign(Object.assign({},this.css),t));const e=parseFloat(this.css["line-height"])||this.height;this.$base.css("line-height",`${e}px`)}renderSample(){return this.render("ABC12")}getDescription(){return"Suitable for rendering text and numbers."}renderGlyphicon(t,e){return this.setCSS(e),t&&this.$base.addClass("blink glyphicon "+t).css("font-family",""),this.reveal(),this}}e.BasicDisplayEVO=r,r.constructorName="BasicDisplayEVO"},304:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonEVO=void 0;const n=i(717),r=i(521),s=i(210);class o extends n.WidgetEVO{constructor(t,e,i){var n;super(t,e,i),this.hoverFlag=!1,this.mouseDownFlag=!1,this.kind="Button",(i=i||{}).css=i.css||{},this.css["background-color"]=i.css["background-color"]||"transparent",this.css.color=i.css.color||"white",this.css.cursor=i.css.cursor||"pointer",this.css["z-index"]=i.css["z-index"]||1,this.lineHeight=parseFloat(i.css["line-height"])||this.height,this.connection=i.connection,this.rate=isNaN(i.rate)?250:Math.max(250,i.rate),this.dblclick_timeout=isNaN(i.dblclick_timeout)?350:Math.max(350,i.rate),i.evts=i.evts||"click","object"==typeof i.evts&&(null===(n=i.evts)||void 0===n?void 0:n.length)>0?(this.evts={},this.evts.click=i.evts.filter((function(t){return"click"===t})).length>0,this.evts.dblclick=i.evts.filter((function(t){return"dblclick"===t})).length>0,this.evts.press=i.evts.filter((function(t){return"press"===t})).length>0,this.evts.release=i.evts.filter((function(t){return"release"===t})).length>0):this.evts={press:"press"===i.evts,release:"release"===i.evts,click:"click"===i.evts,dblclick:"dblclick"===i.evts},this._timer=new r.Timer(this.rate),this.callback=i.callback||((t,e)=>{console.warn("[button-widget] Warning: "+this.id+" does not have a callback :/")}),this._tick_listener=()=>{this._tick?this._tick():console.error("Error in ButtonEVO: undefined handler for tick function.")},this.attr.buttonName=i.buttonName||t,this.attr.customFunction=i.customFunction||"",this.attr.customLabel=i.customLabel||"",this.attr.keyCodes=i.keyCodes}getConstructorName(){return o.constructorName}installHandlers(){var t,e;if(this.$overlay.on("mouseover",(t=>{this.hoverFlag=!0,this.onMouseOver(t)})).on("mouseout",(t=>{this.hoverFlag=!1,this.onMouseOut(t)})).on("mousedown",(t=>{this.mouseDownFlag=!0,t.button===s.mouseButtons.left&&(this.onMouseDown(t),this.dragStart={top:t.pageY||0,left:t.pageX||0},this.$overlay.on("mousemove",(t=>{this.onMouseMove(t)})),$(document).on("mousemove",(t=>{this.onMouseDrag(t)})),$(document).on("mouseup",(t=>{this.dragStart=null,this.mouseDownFlag=!1})))})).on("mouseup",(t=>{this.mouseDownFlag=!1,t.button===s.mouseButtons.left&&this.onMouseUp(t)})).on("blur",(t=>{this.hoverFlag=!1,this.onBlur(t)})),$(document).on("touchstart",(t=>{var e;this.hoverFlag&&(console.log("touchstart"),(null===(e=t.changedTouches)||void 0===e?void 0:e.length)&&(this.touchStart={top:t.changedTouches[0].pageY||0,left:t.changedTouches[0].pageX||0}))})),$(document).on("touchmove",(t=>{this.hoverFlag&&this.onMouseDrag(t)})),$(document).on("touchend",(t=>{this.touchStart=null})),this.attr.keyCodes){const i=null===(e=null===(t=this.attr)||void 0===t?void 0:t.keyCodes)||void 0===e?void 0:e.split(",").map((t=>t.trim())).filter((t=>""!==t));(null==i?void 0:i.length)>0&&($(document).on("keydown",(t=>{this.touchStart=null,this.dragStart=null,i.includes(t.key)&&this.onKeyDown(t)})),$(document).on("keyup",(t=>{this.touchStart=null,this.dragStart=null,i.includes(t.key)&&this.onKeyUp(t)})))}}onKeyDown(t){this.onMouseDown()}onKeyUp(t){this.onMouseUp()}onButtonPress(){this.evts.press?this.pressAndHold():this.evts.click&&this.click()}onButtonRelease(){this.evts.release&&this.release()}onButtonDoubleClick(){this.evts.dblclick&&this.dblclick()}onMouseMove(t){}onMouseDrag(t){}onMouseOver(t){this.select()}onMouseOut(t){this.deselect(),this._tick&&this.onButtonRelease()}onMouseDown(t){this.onButtonPress(),this.select({"background-color":this.css["background-color"]})}onMouseUp(t){this.onButtonRelease(),this.hoverFlag?this.onMouseOver():this.deselect(),this.dblclick_timer?(this.onButtonDoubleClick(),clearInterval(this.dblclick_timer),this.dblclick_timer=null):this.dblclick_timer=setTimeout((()=>{this.dblclick_timer=null}),this.dblclick_timeout)}onBlur(t){this.deselect(),this._tick&&this.onButtonRelease()}btn_action(t,e){var i,n;const r=(e=e||{}).customFunction||this.attr.customFunction||t+"_"+this.attr.buttonName,s=e.callback||this.callback,o={id:this.id,type:"sendCommand",command:r};null===(i=this.connection)||void 0===i||i.sendRequest("sendCommand",o),s&&(null===(n=this.connection)||void 0===n||n.onRequest("sendCommand",((t,e)=>{s(t,e)})));const a={evt:t,fun:r};this.trigger(t,a),console.log(r)}getAttributes(t){return(t=t||{}).optionals=t.optionals||[],t.optionals=t.optionals.concat(["customFunction","customLabel","keyCode"]),super.getAttributes(t)}render(t,e){var i;e=e||{},console.log("[ButtonEVO] rendering state",t),super.render(),this.updateDisplayStyle(e),this.reveal(),(null===(i=this.attr)||void 0===i?void 0:i.customLabel)&&this.$base.html(this.attr.customLabel)}updateDisplayStyle(t){t=t||{},this.setCSS(Object.assign(Object.assign({},this.css),t)),this.$base.css("line-height",`${this.lineHeight}px`)}renderSample(){this.render()}getDescription(){return"Creates transparent hotspot areas over button widgets.\n            Click events are emitted when the button is pressed."}click(t){this.btn_action("click",t)}dblclick(t){this.btn_action("dblclick",t)}press(t){this.btn_action("press",t)}pressAndHold(t){this._tick=()=>{this.press(t)},this._timer.addListener("TimerTicked",this._tick_listener),this.press(t),this._timer.interval(this.rate).start()}release(t){this.btn_action("release",t),this._tick=null,this._timer.reset(),this._timer.removeListener("TimerTicked",this._tick_listener)}}e.ButtonEVO=o,o.constructorName="ButtonEVO"},377:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LedEVO=void 0;const n=i(717),r="#00FF66";class s extends n.WidgetEVO{constructor(t,e,i){super(t,e,i),this.kind="LED",(i=i||{}).css=i.css||{},e=e||{};const n=parseFloat(`${e.width}`)||parseFloat(`${e.height}`)||1,s=parseFloat(`${e.height}`)||parseFloat(`${e.width}`)||1,o=parseFloat($(this.sel2jquery(i.parent)).css("width"))||n,a=parseFloat($(this.sel2jquery(i.parent)).css("height"))||s;this.radius=Math.min(n,s,o,a)/2,this.css["background-color"]=i.css.color||i.css["background-color"]||r,this.css.cursor=i.css.cursor||"default",this.css["border-radius"]=i.css["border-radius"]||`${this.radius}px`,this.css.overflow="visible",delete this.css["font-size"],delete this.css["font-family"],delete this.css["text-align"],delete this.css["white-space"],this.attr={ledName:i.ledName||t}}getConstructorName(){return s.constructorName}render(t,e){super.render(),this.setCSS(Object.assign(Object.assign({},this.css),e)),this.$base.css({width:2*this.radius+"px",height:2*this.radius+"px",left:this.width/2-this.radius+"px"}),"string"==typeof(t=null==t?"":t)?this.setCSS({"background-color":t}):"object"==typeof t&&""!==this.attr.ledName&&this.evalViz(t)&&this.setCSS({"background-color":this.evaluate(this.attr.ledName,t)}),this.reveal()}renderSample(){this.render(r)}getDescription(){return"Multi-color LED light."}}e.LedEVO=s,s.constructorName="LedEVO"},884:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NumericDisplayEVO=e.digitsTemplate=void 0;const n=i(647);e.digitsTemplate='\n{{#if template_description}}\x3c!-- Template defining the visual appearance of integer and fractional part of a numeric display widget --\x3e{{/if}}\n<div class="{{type}}_whole_part" style="position:absolute; left:0px; margin-left:{{whole.margin-left}}px; width:{{whole.width}}px; height:{{whole.height}}px; {{#if whole.margin-top}}margin-top:{{whole.margin-top}};{{/if}} text-align:right; display:inline-flex;">{{#each whole.digits}}\n    <div style="position:absolute; border-radius:2px;text-align:center; width:{{../whole.letter-spacing}}px; min-width:{{../whole.letter-spacing}}px; max-width:{{../whole.letter-spacing}}px; margin-left:{{margin-left}}px; font-size:{{font-size}}px;{{#if selected}} color:{{../whole.background-color}}; background-color:{{../whole.color}}; transform:scale(0.94);{{else}} color:{{../whole.color}}; background-color:{{../whole.background-color}};{{/if}}">{{val}}</div>{{/each}}\n</div>\n\n{{#if point.viz}}<div class="{{type}}_decimal_point" style="position:absolute; text-align:center; margin-left:{{point.margin-left}}px; left:{{point.left}}px; width:{{point.width}}px; min-width:{{point.width}}px; max-width:{{point.width}}px; height:{{point.height}}px; text-align:center; font-size:{{point.font-size}}px;">\n&bull;</div>{{/if}}\n\n{{#if frac.viz}}<div class="{{type}}_frac_part" style="position:absolute; left:{{frac.left}}px; width:{{frac.width}}px; height:{{frac.height}}px; {{#if frac.margin-top}}margin-top:{{frac.margin-top}};{{/if}} text-align:left; display:inline-flex;">{{#each frac.digits}}\n    <div style="position:absolute; border-radius:2px; text-align:center; width:{{../frac.letter-spacing}}px; min-width:{{../frac.letter-spacing}}px; max-width:{{../frac.letter-spacing}}px; margin-left:{{margin-left}}px; font-size:{{font-size}}px;{{#if selected}} color:{{../frac.background-color}}; background-color:{{../frac.color}}{{else}} color:{{../frac.color}}; background-color:{{../frac.background-color}}{{/if}}">{{val}}</div>{{/each}}\n</div>{{/if}}';class r extends n.BasicDisplayEVO{constructor(t,e,i){super(t,e,i),(i=i||{}).css=i.css||{},this.css["background-color"]=i.css["background-color"]&&"transparent"!==i.css["background-color"]?i.css["background-color"]:"black",this.letterSpacing=parseFloat(this.css["font-size"])||1;const n=i.decimalFontRatio||.7;this.css["decimal-font-size"]=i.css["decimal-font-size"]||parseFloat(this.css["font-size"])*n+"px";const r=.8*parseFloat(this.css["decimal-font-size"]);this.css["decimal-letter-spacing"]=i.css["decimal-letter-spacing"]||`${r}px`,this.maxDecimalDigits=isNaN(parseInt(`${i.maxDecimalDigits}`))?2:parseInt(`${i.maxDecimalDigits}`),this.maxIntegerDigits=isNaN(parseInt(`${i.maxIntegerDigits}`))?Math.floor((this.width-this.maxDecimalDigits*r)/this.letterSpacing):parseInt(`${i.maxIntegerDigits}`),this.decimalPointOffset=i.decimalPointOffset||0,this.attr.cursorName=i.cursorName||""}getConstructorName(){return r.constructorName}render(t,e){e=e||{},console.log("[NumericDisplay] rendering state",t),super.render();const i=this.updateDisplayStyle(e);if(this.reveal(),t)if(this.matchStateFlag){if("string"==typeof t){const n={whole:[],frac:[],point:t.indexOf(".")>=0,whole_zeropadding:[],frac_zeropadding:[],max_integer_digits:this.maxIntegerDigits,max_decimal_digits:this.maxDecimalDigits,cursorPos:0},r=this.attr.displayName,s=this.matchState(t,r);s&&this.updateDisplayData(n,s.val);const o=e.cursorName||this.attr.cursorName,a=this.matchState(t,o);s&&this.updateCursorData(n,a.val),this.renderData(n,i)}}else this.$base.html(`${t}`)}updateDisplayData(t,e){let i=e.split(".");const n=parseFloat(`${this.css["font-size"]}`);if(t.whole=i[0].split("").map(((t,e)=>({val:t,selected:!1,"font-size":n,"margin-left":e*this.letterSpacing}))),i.length>1){const e=parseFloat(`${this.css["decimal-font-size"]}`);t.frac=i[1].split("").map(((t,i)=>({val:t,selected:!1,"font-size":e,"margin-left":i*this.letterSpacing})))}}updateCursorData(t,e){const i=parseInt(e);isNaN(i)||(t.cursorPos>=0?t.cursorPos<t.whole.length?(t.whole[t.whole.length-1-t.cursorPos].selected=!0,t.whole[t.whole.length-1-t.cursorPos]["font-size"]*=1.076):(t.whole_zeropadding=new Array(t.cursorPos-(t.whole.length-1)).fill({val:"0",selected:!1,"font-size":parseFloat(`${this.css["font-size"]}`)}),t.whole_zeropadding[0]={val:"0",selected:!0,"font-size":1.076*parseFloat(`${this.css["font-size"]}`)}):t.cursorPos<0&&(-(t.cursorPos+1)<t.frac.length?t.frac[-(t.cursorPos+1)].selected=!0:(t.frac_zeropadding=new Array(-t.cursorPos-t.frac.length).fill({val:"0",selected:!1,"font-size":parseFloat(`${this.css["decimal-font-size"]}`)}),t.frac_zeropadding[t.frac_zeropadding.length-1]={val:"0",selected:!0,"font-size":parseFloat(`${this.css["decimal-font-size"]}`)},t.point=!0)))}renderData(t,i){const n={left:(t.max_integer_digits*this.letterSpacing+this.decimalPointOffset).toFixed(2),width:(this.letterSpacing/2).toFixed(2),height:this.height-2*i,"margin-left":(-this.letterSpacing/32).toFixed(2),"font-size":parseFloat(`${this.css["decimal-font-size"]}`).toFixed(2),viz:t.point},s={digits:t.whole_zeropadding.concat(t.whole),width:t.max_integer_digits*this.letterSpacing,height:this.height-2*i,"margin-top":-i+"px",left:parseFloat(n.left)-parseFloat(n.width),"letter-spacing":this.letterSpacing.toFixed(2),color:this.css.color,"background-color":this.css["background-color"],"margin-left":((t.max_integer_digits-t.whole.length-t.whole_zeropadding.length)*this.letterSpacing).toFixed(2)},o=t.frac.concat(t.frac_zeropadding),a={digits:o,width:(t.max_decimal_digits*parseFloat(`${this.css["decimal-letter-spacing"]}`)).toFixed(2),height:this.height-2*i,"margin-top":-i/2+"px",left:(parseFloat(n.left)+parseFloat(n.width)).toFixed(2),"letter-spacing":parseFloat(`${this.css["decimal-letter-spacing"]}`).toFixed(2),color:this.css.color,"background-color":this.css["background-color"],viz:o.length>0},l=Handlebars.compile(e.digitsTemplate,{noEscape:!0})({type:r.constructorName,whole:s,frac:a,point:n});this.$base.empty(),this.$base.append(l).css("line-height",`${this.height}px`)}updateDisplayStyle(t){this.setCSS(Object.assign(Object.assign({},this.css),t));const e=(null==t?void 0:t.css)&&t.css.border?/\d+px/.exec(t.css.border):null;let i=t["border-width"]?parseFloat(`${t["border-width"]}`):e?parseFloat(e[0]):0;return i=isNaN(i)?0:i,i}renderSample(){let t={};t[this.attr.displayName]="123.4",t.demoCursor=2,this.render(JSON.stringify(t),{cursorName:"demoCursor"})}getDescription(){return"Enhances the visibility of digits, and provides a cursor for highlighing digits."}getAttributes(t){return(t=t||{}).optionals=t.optionals||[],t.optionals=t.optionals.concat(["cursorName"]),super.getAttributes(t)}}e.NumericDisplayEVO=r,r.constructorName="NumericDisplayEVO"},371:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TouchScreenEVO=void 0;const n=i(304);class r extends n.ButtonEVO{constructor(t,e,i){super(t,e,i),this.kind="Touchscreen",(i=i||{}).css=i.css||{},this.css["background-color"]=i.css["background-color"]||"steelblue",this.css["font-color"]=i.css["font-color"]||"white",this.attr.displayName=i.displayName||t}getConstructorName(){return r.constructorName}onButtonPress(){this.evts.press&&this.pressAndHold()}onButtonRelease(){this.evts.release?this.release():this.evts.click&&this.click()}render(t,e){if(super.render(t,e),!this.attr.customLabel&&t)if(this.matchStateFlag){if("string"==typeof t){const e=this.matchState(t);e&&this.$base.html(`${e.val}`)}}else this.$base.html(`${t}`)}renderSample(){return this.render()}getDescription(){return"Renders touch-screen elements.\n            Click events are emitted when the element is released."}}e.TouchScreenEVO=r,r.constructorName="TouchScreenEVO"},717:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetEVO=e.stateRegex=e.cssKeys=e.img_template=e.widget_template=void 0;const n=i(972),r=i(210),s=i(210),o=i(845);e.widget_template='\n{{#if template_description}}\x3c!--\n    Basic widget template. Provides a base layer for rendering the visual appearance of the widget\n    The widget has the following layers:\n      - an outer div layer defining position and size of the widget\n      - an inner base layer renders the visual appearance\n      - an inner img layer renders images\n      - an inner transparent overlay layer captures user interactions with the widget --\x3e{{/if}}\n<div id="{{id}}"\n    style="position:absolute; width:{{width}}px; height:{{height}}px; top:{{top}}px; left:{{left}}px; z-index:{{css.z-index}}; overflow:{{css.overflow}};"\n    class="{{type}} noselect{{#if css.blinking}} blink{{/if}}">\n    <div id="{{id}}_base"\n        style="position:absolute; top:0; width:{{width}}px; height:{{height}}px; {{#each css}} {{@key}}:{{this}};{{/each}}"\n        class="base"></div>\n    <div id="{{id}}_img"\n        style="position:absolute; top:0;"\n        class="img"></div>\n    <div id="{{id}}_overlay"\n        style="position:absolute; top:0; left:0; width:{{width}}px; height:{{height}}px; {{#if css.z-index}}z-index:{{css.z-index}};{{/if}} border-radius:{{css.border-radius}}; cursor:{{css.cursor}}; opacity:0;"\n        class="overlay"></div>\n</div>',e.img_template='\n{{#if template_description}}\x3c!-- Template for embedding an image in a div --\x3e{{/if}}\n{{#if img}}<img src="{{img}}" style="position:absolute; opacity:{{opacity}}; transform-origin:{{transformOrigin}};">{{/if}}\n{{#if svg}}{{svg}}{{/if}}\n',e.cssKeys={position:["absolute","relative"],cursor:["string"],"background-color":["string"],"font-size":["string"],"font-family":["string"],color:["string"],align:["string"],border:["string"],"border-radius":["string"],overflow:["hidden","visible"],opacity:["number"],"z-index":["string"],"letter-spacing":["string"],"white-space":["normal","nowrap"],"line-height":["string"],margin:["string"],padding:["string"],halo:["string"]},e.stateRegex=[/(\w+)\s*:=\s*(\w+)/g,/(\w+)\s*:=\s*\"([^\"]+)\"/g,/\"(\w+)\"\s*:\s*(\w+)/g,/\"(\w+)\"\s*:\s*\"([^\"]+)\"/g];class a extends o.Model{constructor(t,i,n){var r,s,o;super(),this.widget=!0,this.attr={},this.kind="widget",this.matchStateFlag=!0,this.viz={},this.css={},this.evts=null,this.fontPadding=6,this.rendered=!1,(n=n||{}).parent=n.parent||"body",n.css=n.css||{},i=i||{},this.id=t,this.parentSelector="string"==typeof n.parent?"body"===n.parent||n.parent.startsWith("#")||n.parent.startsWith(".")?n.parent:`#${n.parent}`:null,this.$parent=this.sel2jquery(n.parent),this.top=parseFloat(`${i.top}`)||0,this.left=parseFloat(`${i.left}`)||0,this.width=isNaN(parseFloat(`${i.width}`))?32:parseFloat(`${i.width}`),this.height=isNaN(parseFloat(`${i.height}`))?32:parseFloat(`${i.height}`),this.viz={visible:(null===(r=n.viz)||void 0===r?void 0:r.visible)||"true",enabled:(null===(s=n.viz)||void 0===s?void 0:s.enabled)||"true"};const a=/\d+px/.exec(null===(o=n.css)||void 0===o?void 0:o.border);let l=n["border-width"]?parseFloat(`${n["border-width"]}`):a?parseFloat(a[0]):0;l=isNaN(l)?0:l;let c=parseFloat(`${n.css["font-size"]}`);c=!isNaN(c)&&c<this.height-l-this.fontPadding&&c>0?c:this.height-l-this.fontPadding,this.css=Object.assign({},n.css),this.css["background-color"]=n.css["background-color"]||"transparent",this.css["font-size"]=c+"px",this.css["font-family"]=n.css["font-family"]||"sans-serif",this.css.color=n.css.color||"white",this.css["text-align"]=n.css["text-align"]||"center",this.css.overflow=n.css.overflow||"visible",this.css["white-space"]=n.css["white-space"]||"nowrap",this.css.blinking="true"===n.css.blinking?"true":void 0,this.css.halo=n.css.halo||"yellow",this.css["z-index"]=n.css["z-index"]||0,this.widget_template=n.widget_template||e.widget_template}matchState(t,i){if(t&&(i=i||this.getName()))for(let n=0;n<e.stateRegex.length;n++){const r=new RegExp(e.stateRegex[n]).exec(t);if(r&&r.length>2&&r[1]===i)return{name:r[1],val:r[2]}}return null}setMatchStateFlag(t){this.matchStateFlag=!!t}static uuid(){return"wdg"+r.uuid("Wxxxx")}sel2jquery(t){return"string"==typeof t?"body"===t||t.startsWith("#")||t.startsWith(".")?$(t):$(`#${t}`):t}createHTMLElement(){const t=Handlebars.compile(this.widget_template,{noEscape:!0})(this);this.$parent[0]||console.error("Error: "+this.parentSelector+" does not exist. Widget '"+this.id+"' cannot be attached to DOM :(("),this.$parent.append(t),this.$div=$("#"+this.id),this.$img=this.$div.find(".img"),this.$base=this.$div.find(".base"),this.$overlay=this.$div.find(".overlay"),this.setCSS(this.css),this.rendered=!0}installHandlers(){}render(t,e){this.rendered||(this.createHTMLElement(),this.installHandlers())}renderSample(t){this.render(null,t)}getDescription(){return""}reveal(){this.rendered||(this.createHTMLElement(),this.installHandlers()),this.$div.css("display","block")}hide(){this.rendered||(this.createHTMLElement(),this.installHandlers()),this.$div.css("display","none")}move(t,e){e=e||{},this.rendered||(this.createHTMLElement(),this.installHandlers()),t=t||{},e.duration=e.duration||0,e.transitionTimingFunction=e.transitionTimingFunction||"ease-out",this.top=isNaN(parseFloat(`${t.top}`))?this.top:+parseFloat(`${t.top}`).toFixed(a.MAX_COORDINATES_ACCURACY),this.left=isNaN(parseFloat(`${t.left}`))?this.left:+parseFloat(`${t.left}`).toFixed(a.MAX_COORDINATES_ACCURACY),this.$div.animate({top:this.top+"px",left:this.left+"px","transition-timing-function":e.transitionTimingFunction},+e.duration)}resize(t,e){this.rendered||(this.createHTMLElement(),this.installHandlers()),t=t||{},(e=e||{}).duration=e.duration||0,e.transitionTimingFunction=e.transitionTimingFunction||"ease-out",this.height=isNaN(parseFloat(`${t.height}`))?this.height:+parseFloat(`${t.height}`).toFixed(a.MAX_COORDINATES_ACCURACY),this.width=isNaN(parseFloat(`${t.width}`))?this.width:+parseFloat(`${t.width}`).toFixed(a.MAX_COORDINATES_ACCURACY);const i=/\d+px/.exec(null==e?void 0:e.border);let n=e["border-width"]?parseFloat(`${e["border-width"]}`):i?parseFloat(i[0]):0;n=isNaN(n)?0:n;const r=!isNaN(parseFloat(e["font-size"]))&&parseFloat(e["font-size"])<this.height-n-this.fontPadding?parseFloat(e["font-size"]):this.height-n-this.fontPadding;this.css["font-size"]=r+"px",e.duration?(this.$div.animate({height:this.height+"px",width:this.width+"px","transition-timing-function":e.transitionTimingFunction},+e.duration),this.$base.css("font-size",this.css["font-size"]).animate({"line-height":this.height+"px",height:this.height+"px",width:this.width+"px","transition-timing-function":e.transitionTimingFunction},+e.duration),this.$overlay.animate({height:this.height+"px",width:this.width+"px","transition-timing-function":e.transitionTimingFunction},+e.duration)):(this.$div.css("height",this.height+"px").css("width",this.width+"px"),this.$base.css("line-height",this.height+"px").css("height",this.height+"px").css("width",this.width+"px").css("font-size",this.css["font-size"]),this.$overlay.css("height",this.height+"px").css("width",this.width+"px")),this.move(t,e)}rotate(t,e){this.rendered||(this.createHTMLElement(),this.installHandlers()),t=isNaN(parseFloat(`${t}`))?0:parseFloat(`${t}`),(e=e||{}).duration=e.duration||0,e.transitionTimingFunction=e.transitionTimingFunction||"ease-in",e.transformOrigin=e.transformOrigin||"center",this.$div.css({transform:`rotate(${t}deg)`,"transform-origin":e.transformOrigin}),e.duration&&this.$div.css({transition:`all ${e.duration}ms ${e.transitionTimingFunction} 0s`})}remove(){this.$div&&this.$div[0]&&this.$div.remove()}evalViz(t){var e;let i=!0;if(t&&"object"==typeof t){i=!1;const r=n.simpleExpressionParser(null===(e=this.viz)||void 0===e?void 0:e.visible);if(r&&r.res)if("constexpr"===r.res.type&&"true"===r.res.constant)i=!0;else if("boolexpr"===r.res.type&&r.res.binop){let e=n.resolveAttribute(t,r.res.attr);e&&(e=n.evaluate(e),("="===r.res.binop&&e===r.res.constant||"!="===r.res.binop&&e!==r.res.constant)&&(i=!0))}}return i}evaluate(t,e){if(t&&e&&"object"==typeof e){var i=n.resolveAttribute(e,t);if(null!=i)return n.evaluate(i).replace(new RegExp('"',"g"),"");console.log("Warning: WidgetEVO.evaluate could not find state attribute "+t+" requested by "+this.id)}return""}getVizExpression(){var t;return null===(t=this.viz)||void 0===t?void 0:t.visible}setCSS(t){t=t||{};for(const e in t)switch(this.css[e]=t[e],e){case"z-index":this.$div.css(e,t[e]);break;case"width":case"height":this.$overlay.css(e,`${parseFloat(`${t[e]}`)}px`),this.$base.css(e,`${parseFloat(`${t[e]}`)}px`);break;case"border-radius":this.$overlay.css(e,t[e]),this.$base.css(e,t[e]);break;case"blinking":t[e]&&"false"!==t[e]?this.$base.addClass(e):this.$base.removeClass(e);break;default:this.$base.css(e,t[e])}this.$base.css("position","absolute")}setAttr(t){t=t||{};for(const e in t)this.attr[e]=t[e]}getName(){const t=Object.keys(this.attr);return t&&t.length?this.attr[t[0]]:"..."}getKind(){return this.kind||"widget"}setName(t){const e=Object.keys(this.attr);e&&e.length&&(this.attr[e[0]]=t)}invertColors(){this.$base.css("background-color",this.css["font-color"]),this.$base.css("color",this.css["background-color"])}isTransparent(t){return"transparent"===t||"rgba(0, 0, 0, 0)"===t}select(t){this.rendered||(this.createHTMLElement(),this.installHandlers()),t=t||{};const e=this.css.halo||"yellow";this.$base.css(Object.assign(Object.assign(Object.assign({},this.css),{"background-color":s.dimColor(this.css["background-color"],8)}),t)),t.classed&&this.$base.addClass(t.classed),this.$overlay.css({"box-shadow":`0px 0px 10px ${e}`,opacity:1})}deselect(){this.rendered||(this.createHTMLElement(),this.installHandlers()),this.setCSS(this.css),this.$overlay.css({opacity:0})}getPosition(){return{left:this.left,top:this.top}}getSize(){return{width:this.width,height:this.height}}setPosition(t){return this.move(t)}setSize(t){return this.resize(t)}setPositionAndSize(t){t&&(this.move(t),this.resize(t))}updateLocationAndSize(t){return this.setPositionAndSize(t)}getId(){return this.id}getCSS(t){var i,n;const r=(t=t||{}).all?Object.assign(Object.assign({},this.css),e.cssKeys):this.css,s=null===(i=Object.keys(r))||void 0===i?void 0:i.sort(((t,e)=>t<e?-1:1));if(s&&s.length){const e={};for(let i in s){const r=s[i];(this.css[r]||t.all)&&(e[r]=(null===(n=t.replace)||void 0===n?void 0:n.hasOwnProperty(r))?t.replace[r]:this.css[r])}return e}return{}}getViz(){return this.viz}getOptions(){return Object.assign({css:this.getCSS(),viz:this.getViz()},this.getAttributes())}getCoordinates(){return{top:+this.top.toFixed(a.MAX_COORDINATES_ACCURACY),left:+this.left.toFixed(a.MAX_COORDINATES_ACCURACY),width:+this.width.toFixed(a.MAX_COORDINATES_ACCURACY),height:+this.height.toFixed(a.MAX_COORDINATES_ACCURACY)}}getAttributes(t){var e;(t=t||{}).optionals=t.optionals||[];const i=null===(e=Object.keys(this.attr))||void 0===e?void 0:e.sort(((t,e)=>t<e?-1:1));if(i&&i.length){const e={},n={};for(let r in i){const s=i[r];t.optionals.includes(s)?n[s]="string"==typeof this.attr[s]&&t.nameReplace?`${this.attr[s]}`.replace(this.id,t.nameReplace):this.attr[s]:e[s]="string"==typeof this.attr[s]&&t.nameReplace?`${this.attr[s]}`.replace(this.id,t.nameReplace):this.attr[s]}return Object.assign(Object.assign({},e),n)}return null}getEvents(){const t=[];if(this.evts){const e=Object.keys(this.evts);for(let i in e){const n=e[i];this.evts[n]&&t.push(n)}}return t}setEvents(t){t&&t.length>0?(this.evts={},this.enableEvents(t)):this.evts=null}enableEvents(t){if(t&&t.length>0){this.evts=this.evts||{};for(let e in t)this.evts[t[e]]=!0}else this.evts=null}disableEvents(t){if(t&&t.length>0)for(let e in t)this.evts=this.evts||{},this.evts[t[e]]=!1;else this.evts=null}toJSON(){return{id:this.id,coords:this.getCoordinates(),name:this.getName(),kind:this.kind,cons:this.getConstructorName(),opt:this.getOptions(),evts:this.getEvents()}}setMarker(t){t&&(this.marker=t)}getMarker(){return this.marker}}e.WidgetEVO=a,a.MAX_COORDINATES_ACCURACY=0,a.constructorName="WidgetEVO"},83:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.coreWidgetClassMap=void 0;const n=i(647),r=i(304),s=i(377),o=i(884),a=i(371);e.coreWidgetClassMap={Display:[{id:n.BasicDisplayEVO.constructorName,label:"Basic Display",cons:n.BasicDisplayEVO},{id:o.NumericDisplayEVO.constructorName,label:"Numeric Display",cons:o.NumericDisplayEVO}],Button:[{id:r.ButtonEVO.constructorName,label:"Standard Button",cons:r.ButtonEVO}],Touchscreen:[{id:a.TouchScreenEVO.constructorName,label:"TouchScreen Element",cons:a.TouchScreenEVO}],LED:[{id:s.LedEVO.constructorName,label:"Multicolor LED",cons:s.LedEVO}]}},521:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timer=void 0;const n=i(845),r=250;class s extends n.Model{constructor(t){super(),t=t||r,this.rate=t<r?r:t}addListener(t,e){this.on(t,e)}removeListener(t,e){this.off(t,e)}start(){return this.timer=setInterval((()=>{this.trigger("TimerTicked")}),this.rate),this}interval(t){return this.rate=t<r?r:t,this}stop(){return clearInterval(this.timer),this.timer=null,this}reset(){return this.stop(),this}restart(){return this.stop(),this.start()}}e.Timer=s},724:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filter=e.pvsFilter=e.modelFilter=e.imageFilter=e.isPimFile=e.isEmuchartsFile=e.isPvsFile=e.isModelFile=e.isImageFile=e.checkExt=e.isSupportedFile=e.isHiddenFile=e.desc2fname=e.getContextFolder=e.getFileExtension=e.getFileName=void 0;const i=[".jpg",".jpeg",".png"],n=[".pvs",".muz",".tex",".i",".emdl",".vdmsl",".aadl",".adb",".ads",".c",".h",".smv",".als"],r=n.concat(i).concat([".txt"]);function s(t){let e=t||"";return e=e.includes("/")?e.substr(e.lastIndexOf("/")+1):e,e=e.includes(".")?e.substr(0,e.lastIndexOf(".")):e,e.trim()}function o(t,e){let i=t||"";return i=i.includes("/")?i.substr(i.lastIndexOf("/")+1):i,i=i.includes(".")?i.substr(i.lastIndexOf(".")):"",(null==e?void 0:e.toLowerCase)?i.toLocaleLowerCase().trim():i.trim()}function a(t){return!!t&&0===s(t).indexOf(".")}function l(t,e){if(t&&"string"==typeof t){const i=o(t,{toLowerCase:!0});return!!(i&&i.length>0)&&e.indexOf("."+i[0].toLowerCase())>-1}return!1}function c(t){return l(t,i)}function d(t){return l(t,n)}function u(t){return l(t,[".pvs"])}e.getFileName=s,e.getFileExtension=o,e.getContextFolder=function(t){let e=t||"";return e=e.includes("/")?e.substr(0,e.lastIndexOf("/")+1):e,e.trim()},e.desc2fname=function(t){return t?`${t.contextFolder}/${t.fileName}${t.fileExtension}`:null},e.isHiddenFile=a,e.isSupportedFile=function(t){const e=t?o(t):null;return e&&r.includes(e)},e.checkExt=l,e.isImageFile=c,e.isModelFile=d,e.isPvsFile=u,e.isEmuchartsFile=function(t){return l(t,[".emdl"])},e.isPimFile=function(t){return l(t,[".muz"])},e.imageFilter=function(t){return!1===a(t.path)&&(t.isDirectory||c(t.path))},e.modelFilter=function(t){return!1===a(t.path)&&(t.isDirectory||d(t.path))},e.pvsFilter=function(t){return!1===a(t.path)&&(t.isDirectory||u(t.path))},e.filter=function(t){return function(e){return!1===a(e.path)&&(e.isDirectory||l(e.path,t))}}},972:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.evaluate=e.resolveAttribute=e.simpleExpressionParser=void 0,e.simpleExpressionParser=function(t){const e={res:null,err:null};return"string"==typeof t?t.indexOf("!=")>=0?(e.res=t.split("!="),e.res={type:"boolexpr",binop:"!=",attr:e.res[0].trim(),constant:e.res[1].trim()}):t.indexOf("=")>=0?(e.res=t.split("="),e.res={type:"boolexpr",binop:"=",attr:e.res[0].trim(),constant:e.res[1].trim()}):"true"===t.toLowerCase()?e.res={type:"constexpr",constant:"true"}:"false"===t.toLowerCase()&&(e.res={type:"constexpr",constant:"false"}):e.res={type:"constexpr",constant:`${t}`},e},e.resolveAttribute=function(t,e){const i=e.split(".");let n=t,r="";for(let t=0;t<i.length&&n;t++)r=i[t],n=n[r];return n?"string"==typeof n?n:JSON.stringify(n):""},e.evaluate=function(t){if(null!=t){if("string"==typeof t){const e=(t=t.trim()).split("/");return 2!==e.length||isNaN(+e[0])||isNaN(+e[1])?t:(+e[0]/+e[1]).toString()}return t.toString().trim()}return""}},210:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SettingsAttributes=e.colors=e.fontOutlineStyle=e.dimColor=e.rgb2hex=e.colorNameToHex=e.logKeyCode=e.mouseButtons=e.getKey=e.inlineMenuTemplate=e.dropdownMenuTemplate=e.removeSpaceDash=e.transparentGif=e.blackGif=e.whiteGif=e.requiredBrowserWarning=e.requiredBrowser=e.getVersion=e.isBrowserSupported=e.getBrowserVersion=e.uuid=e.enableResizeLeft=e.createCollapsiblePanel=e.deleteContextMenu=e.closeContextMenu=e.openContextMenu=e.createMenu=e.dialogTemplate=e.DBLCLICK_TIMEOUT=e.setDialogTitle=e.revealDialog=e.createDialog=void 0,e.createDialog=function(t){if(t){const i=Handlebars.compile(e.dialogTemplate,{noEscape:!0})(Object.assign({dialogId:"pvsioweb-modal"},t));$("body").find("#pvsioweb-modal").remove(),$("body").append(i)}return $("body").find("#pvsioweb-modal").css({position:"absolute",overflow:"auto"})},e.revealDialog=function(){return $("body").find("#pvsioweb-modal").css("display","block")},e.setDialogTitle=function(t){return $("body").find("#pvsioweb-modal-title").html(t)},e.DBLCLICK_TIMEOUT=300,e.dialogTemplate='\n<div class="modal fade show" id="{{dialogId}}" tabindex="-1" role="dialog" aria-labelledby="{{dialogId}}-title" aria-hidden="true" style="display:{{#if hidden}}none{{else}}block{{/if}};">\n    <div class="modal-dialog-shadow" style="width:100%; height:100%; position:fixed; background: black; opacity: 0.8;"></div>\n    <div class="modal-dialog modal-dialog-centered{{#if largeModal}} modal-lg{{/if}}" role="document">\n        <div class="modal-content" style="transform:scale(0.8); transform-origin:top;">\n            <div class="modal-header">\n                <h5 class="modal-title tile" id="{{dialogId}}-title">{{title}}</h5>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <span aria-hidden="true" class="cancel-btn">&times;</span>\n                </button>\n            </div>\n            <div class="modal-body">\n                {{content}}\n            </div>\n            <div class="modal-footer">\n                {{#if buttons}}\n                {{buttons}}\n                {{else}}\n                    <button type="button" class="cancel-btn btn btn-secondary" data-dismiss="modal">Cancel</button>\n                    <button type="button" class="ok-btn btn btn-primary">Ok</button>\n                {{/if}}\n            </div>\n        </div>\n    </div>\n</div>',e.createMenu=function(t){if(t){const e=parseFloat(`${t.top}`),i=parseFloat(`${t.left}`),n=Handlebars.compile('\n<div id="{{menuId}}" class="fade show" style="position:absolute;width:0px;height:0px;top:{{top}}px;left:{{left}}px;">\n    <div class="dropdown-menu show">\n        {{#each items}}\n        {{#if name}}<a class="dropdown-item{{#if disabled}} disabled{{/if}}" href="#" action="{{name}}">{{icon}}{{name}}</a>{{else}}<div class="dropdown-divider"></div>{{/if}}\n        {{/each}}\n    </div>\n</div>\n',{noEscape:!0})({menuId:"pvsioweb-menu",top:e,left:i,items:t.items.map((t=>"string"==typeof t?t:t.disabled?{name:t.name,icon:t.icon,disabled:!0}:{name:t.name,icon:t.icon}))});$("body").find("#pvsioweb-menu").remove(),$("body").append(n)}return $("body").find("#pvsioweb-menu")},e.openContextMenu=function(){return $("body").find("#pvsioweb-menu").css("display","block")},e.closeContextMenu=function(){return $("body").find("#pvsioweb-menu").css("display","none")},e.deleteContextMenu=function(){return $("body").find("#pvsioweb-menu").remove()},e.createCollapsiblePanel=function(t,e){const i=(e=e||{}).parent&&"body"!==e.parent?`#${e.parent}`:"body",n=t.getId()||"",r=t.getName()||"",s=e.width||"100%",o=e.top||0;console.log(`[pvsioweb-utils] Creating panel, parent is ${i}`);const a=Handlebars.compile('\n<style>\n.pvsioweb-collapsible-panel {\n    display: block;\n    position: sticky;\n    top: {{top}}px;\n}\n.pvsioweb-collapsible-panel span {\n    font-size: small;\n}\n</style>\n<div id="{{id}}-panel" class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow pvsioweb-collapsible-panel">\n    <span class="navbar navbar-brand container-fluid px-0" {{#if hideNavbar}}style="display:none"{{/if}}>\n        <span data-toggle="collapse" style="margin-left:10px;" data-target="#{{id}}-content" id="{{id}}-collapse-icon" class="icon toggle-collapse fa {{#if showContent}}fa-minus-square{{else}}fa-plus-square{{/if}}"></span>\n        <span id="{{id}}-label" class="label">{{name}}</span>\n        <span class="dropdown" style="margin-right:12px;">\n            {{#if dropdownMenu}}\n            {{dropdownMenu}}\n            {{/if}}\n        </span>\n    </span>\n    {{#if toolbar}}\n    <span class="toolbar">\n        {{toolbar}}\n    </span>\n    {{/if}}\n</div>\n<div id="{{id}}-content" class="content collapsible-panel {{#if showContent}}show{{/if}}"></div>\n',{noEscape:!0})({showContent:!!(null==e?void 0:e.showContent),width:s,top:o,id:n,name:r,toolbar:e.toolbar,dropdownMenu:e.dropdownMenu,hideNavbar:e.hideNavbar});$(i).append(a);const l=$(`#${n}-panel`),c=$(`#${n}-content`),d=$(`#${n}-collapse-icon`),u=$(`#${n}-label`),h=l.find(".toolbar"),p=l.find(".navbar .dropdown");return(null==e?void 0:e.isDemo)||d.on("click",(()=>{c.hasClass("show")?d.addClass("fa-plus-square").removeClass("fa-minus-square"):d.removeClass("fa-plus-square").addClass("fa-minus-square")})),l.on("mouseover",(t=>{l.attr("active-panel",n)})),{$div:l,$collapseBtn:d,$content:c,$label:u,$toolbar:h,$dropdownMenu:p}},e.enableResizeLeft=function(t,e){if(e=e||{},t){const i=10,n=t.$div.width(),r=2*parseFloat(t.$resizeBar.css("width"));let s=e.initialWidth||n/4;const o=e=>{(e=e||{}).leftWidth=e.leftWidth||t.$left.width();const n=$(window).width(),o=t.$div.width(),a=o<n?o:n,l=a-s-2*r;s=e.leftWidth<i?i:e.leftWidth>a?a:e.leftWidth,t.$left.css("width",s),t.$central.css({width:l})};t.$left.css("width",s),t.$resizeBar.on("mousedown",(e=>{e.preventDefault(),$("html").css({cursor:"col-resize"});const i=e=>{e.preventDefault(),o({leftWidth:e.pageX}),(null==t?void 0:t.onResize)&&t.onResize({width:t.$central.css("width"),height:t.$central.css("height")})},n=t=>{t.preventDefault(),$(window).off("mousemove",i),$(window).off("mouseup",n),$("html").css({cursor:"default"}),o({leftWidth:t.pageX})};$(window).on("mousemove",i),$(window).on("mouseup",n),$(window).on("keydown",(t=>{"Escape"===t.key&&n(t)}))})),t.$resizeBar.on("mouseover",(e=>{t.disableResize||(e.preventDefault(),t.$resizeBar.css({cursor:"col-resize"}))})),$(window).on("resize",(e=>{t.disableResize||o({leftWidth:s})})),o({leftWidth:s})}return t},e.uuid=function(t){let e=(new Date).getTime();return(t=t||"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx").replace(/[xy]/g,(t=>{const i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:7&i|8).toString(16)}))};const i=/Chrome\//.test(navigator.userAgent),n=/Firefox\//.test(navigator.userAgent);function r(t){const e=navigator.userAgent.split(" ").filter((e=>e.indexOf(t)>=0)).toString().split("/");return e&&2===e.length?parseFloat(e[1]):-1}function s(){return i||n?navigator.userAgent.split(" ").filter((t=>t.indexOf("Chrome")>=0||t.indexOf("Firefox")>=0)).toString().split("/").join(" "):navigator.userAgent}function o(t){return 8===t?"backspace":9===t?"tab":13===t?"enter":16===t?"shift":17===t?"ctrl":18===t?"alt":19===t?"pause/break":20===t?"caps lock":27===t?"esc":32===t?"space bar":33===t?"page up":34===t?"page down":35===t?"end":36===t?"home":37===t?"left arrow":38===t?"up arrow":39===t?"right arrow":40===t?"down arrow":45===t?"insert":46===t?"delete":91===t?"left window":92===t?"right window":93===t?"select key":96===t?"numpad 0":97===t?"numpad 1":98===t?"numpad 2":99===t?"numpad 3":100===t?"numpad 4":101===t?"numpad 5":102===t?"numpad 6":103===t?"numpad 7":104===t?"numpad 8":105===t?"numpad 9":106===t?"multiply":107===t?"add":109===t?"subtract":110===t?"decimal point":111===t?"divide":112===t?"F1":113===t?"F2":114===t?"F3":115===t?"F4":116===t?"F5":117===t?"F6":118===t?"F7":119===t?"F8":120===t?"F9":121===t?"F10":122===t?"F11":123===t?"F12":144===t?"num lock":145===t?"scroll lock":186===t?";":187===t?"=":188===t?",":189===t?"-":190===t?".":191===t?"/":192===t?"`":219===t?"[":220===t?"\\":221===t?"]":222===t?"'":String.fromCharCode(t)}function a(t){const e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return e[t.toLowerCase()]?e[t.toLowerCase()]:t}function l(t){const e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):t}var c;e.getBrowserVersion=r,e.isBrowserSupported=function(){return i&&r("Chrome")>=42||n&&r("Firefox")>=37},e.getVersion=s,e.requiredBrowser=function(){return"PVSio-web requires Chome 42 or greater, or Firefox 37 or greater"},e.requiredBrowserWarning=function(){return"Warning: PVSio-web requires Chome 42 or greater, or Firefox 37 or greater (your browser is "+s()+")"},e.whiteGif="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.blackGif="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",e.transparentGif="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.removeSpaceDash=function(t){return t?t.replace(/[\s|-]/g,""):t},e.dropdownMenuTemplate='\n<div class="dropdown mr-1 panel-menu">\n    <button type="button" class="btn btn-sm btn-dark dropdown-toggle" id="{{id}}" data-toggle="dropdown">{{name}}</button>\n    {{#if style}}<style>{{style}}</style>{{/if}}\n    <div class="dropdown-menu {{id}}" aria-labelledby="{{id}}">\n        {{content}}\n    </div>\n</div>\n',e.inlineMenuTemplate='\n<div class="mr-2 panel-menu dropdown">\n    {{#if style}}<style>{{style}}</style>{{/if}}\n    {{#each buttons}}\n        {{this}}\n    {{/each}}\n</div>\n',e.getKey=o,e.mouseButtons={left:0,middle:1,right:2},e.logKeyCode=function(t){const e=t.key||t.keyCode;"number"==typeof e?console.log(o(e)):console.log(e)},e.colorNameToHex=a,e.rgb2hex=l,e.dimColor=function(t,e){e=e||48,t=l(a(t)).slice(1)||"0";const i=parseInt(t,16);let n=(i>>16)-e;n=n>255?255:n<0?0:n;let r=(i>>8&255)-e;r=r>255?255:r<0?0:r;let s=(255&i)-e;return s=s>255?255:s<0?0:s,"#"+(s|r<<8|n<<16).toString(16)},e.fontOutlineStyle=function(t){return`\n    -webkit-text-fill-color: transparent; -webkit-text-stroke: 1px ${t=t||"black"};`},e.colors={blue:"#007bff"},(c=e.SettingsAttributes||(e.SettingsAttributes={})).version="version",c.mainFile="mainFile",c.mainModule="mainModule",c.initFunction="initFunction",c.tickFunction="tickFunction",c.tickFrequency="tickFrequency",c.outputPrinter="outputPrinter",c.pictureFile="pictureFile",c.pictureWidth="pictureWidth",c.pictureHeight="pictureHeight",c.pictureData="pictureData",c.widgets="widgets",c.contextFolder="contextFolder"}},e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n=i(462);builder=n})();
//# sourceMappingURL=builder.min.js.map